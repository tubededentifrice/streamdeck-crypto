{
  "version": 3,
  "sources": ["config.ts", "providers/connection-states.ts", "default-settings.ts", "../../node_modules/expr-eval/dist/bundle.js", "expression-evaluator.ts", "pi/providers/index.ts", "pi/providers/binance.ts", "pi/providers/bitfinex.ts", "entries/pi-entry.ts", "pi.ts"],
  "sourcesContent": ["(function (root: Record<string, unknown>, factory: () => CryptoTickerRuntimeConfig) {\n    if (typeof module === \"object\" && module.exports) {\n        module.exports = factory();\n    } else {\n        const config = factory();\n        root.CryptoTickerConfig = Object.assign({}, root.CryptoTickerConfig || {}, config);\n    }\n}(typeof self !== \"undefined\" ? (self as unknown as Record<string, unknown>) : (this as unknown as Record<string, unknown>), function buildConfig(): CryptoTickerRuntimeConfig {\n    return {\n        tProxyBase: \"https://tproxyv8.opendle.com\",\n        fallbackPollIntervalMs: 60_000,\n        staleTickerTimeoutMs: 5 * 60 * 1000,\n        binanceRestBaseUrl: \"https://api.binance.com\",\n        binanceWsBaseUrl: \"wss://stream.binance.com:9443/ws\",\n        binanceSymbolOverrides: {},\n        bitfinexRestBaseUrl: \"https://api-pub.bitfinex.com\",\n        bitfinexWsBaseUrl: \"wss://api-pub.bitfinex.com/ws/2\",\n        bitfinexSymbolOverrides: {},\n        messages: {\n            loading: \"LOADING...\",\n            stale: \"STALE\",\n            noData: \"NO DATA\",\n            misconfigured: \"INVALID PAIR\",\n            conversionError: \"CONVERT ERROR\"\n        }\n    };\n}));\n\ninterface CryptoTickerRuntimeConfig {\n    tProxyBase: string;\n    fallbackPollIntervalMs: number;\n    staleTickerTimeoutMs: number;\n    binanceRestBaseUrl: string;\n    binanceWsBaseUrl: string;\n    binanceSymbolOverrides: Record<string, string>;\n    bitfinexRestBaseUrl: string;\n    bitfinexWsBaseUrl: string;\n    bitfinexSymbolOverrides: Record<string, string>;\n    messages: CryptoTickerMessageConfig;\n}\n", "// Export as const object for runtime compatibility with existing code\nconst ConnectionStates = {\n    LIVE: \"live\" as const,\n    DETACHED: \"detached\" as const,\n    BACKUP: \"backup\" as const,\n    BROKEN: \"broken\" as const\n} as const;\n\n// UMD module pattern for browser/CommonJS compatibility\n(function (root: Record<string, unknown> | undefined, factory: () => typeof ConnectionStates) {\n    const globalRoot = (typeof globalThis !== \"undefined\" ? globalThis : root) as ConnectionStatesGlobal | undefined;\n    const exportsValue = factory();\n\n    if (typeof module === \"object\" && module.exports) {\n        module.exports = exportsValue;\n    }\n\n    if (globalRoot) {\n        globalRoot.CryptoTickerConnectionStates = exportsValue;\n    }\n}(typeof self !== \"undefined\" ? (self as unknown as Record<string, unknown>) : (this as unknown as Record<string, unknown>), function buildConnectionStates(): typeof ConnectionStates {\n    return ConnectionStates;\n}));\n\ninterface ConnectionStatesGlobal extends Record<string, unknown> {\n    CryptoTickerConnectionStates?: typeof ConnectionStates;\n}\n", "'use strict';\n\ninterface StringNormalizerOptions {\n  case?: 'upper' | 'lower';\n  allowEmptyString?: boolean;\n  allowNull?: boolean;\n  trim?: boolean;\n  allowedValues?: string[];\n}\n\ninterface NumberNormalizerOptions {\n  min?: number;\n  max?: number;\n  integer?: boolean;\n}\n\ntype Normalizer<T> = (value: unknown) => T | null | undefined;\n\ntype SettingsSchemaType = 'string' | 'number';\n\ninterface SettingsSchemaEntry<T> {\n  type: SettingsSchemaType;\n  default: T;\n  normalize: Normalizer<T>;\n}\n\ninterface SettingsValidationError {\n  key: string;\n  message: string;\n}\n\ninterface SettingsValidationResult {\n  settings: NormalizedSettings;\n  errors: SettingsValidationError[];\n}\n\ninterface CryptoTickerDefaultsExports {\n  settingsSchema: SettingsSchema;\n  defaultSettings: NormalizedSettings;\n  getDefaultSettings(): NormalizedSettings;\n  validateSettings(settings: unknown): SettingsValidationResult;\n  applyDefaults(partialSettings: unknown): NormalizedSettings;\n}\n\ntype SettingsSchema = Record<keyof CryptoTickerSettings, SettingsSchemaEntry<CryptoTickerSettings[keyof CryptoTickerSettings]>>;\n\ntype NormalizedSettings = CryptoTickerSettings & Record<string, unknown>;\n\ninterface GlobalDefaultsRoot extends Record<string, unknown> {\n  CryptoTickerDefaults?: CryptoTickerDefaultsExports;\n}\n\n(function loadDefaults(root: Record<string, unknown> | undefined, factory: () => CryptoTickerDefaultsExports) {\n  const exports = factory();\n  if (typeof module === 'object' && module.exports) {\n    module.exports = exports;\n  }\n  if (root && typeof root === 'object') {\n    (root as GlobalDefaultsRoot).CryptoTickerDefaults = exports;\n  }\n})(typeof self !== 'undefined' ? (self as unknown as Record<string, unknown>) : (this as unknown as Record<string, unknown>), function buildDefaults(): CryptoTickerDefaultsExports {\n  function clone<T>(obj: T): T {\n    if (obj === null || typeof obj !== 'object') {\n      return obj;\n    }\n    if (Array.isArray(obj)) {\n      return obj.map((item) => clone(item)) as unknown as T;\n    }\n    const copy: Record<string, unknown> = {};\n    for (const key in obj as Record<string, unknown>) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        copy[key] = clone((obj as Record<string, unknown>)[key]);\n      }\n    }\n    return copy as T;\n  }\n\n  function buildStringNormalizer(options?: StringNormalizerOptions): Normalizer<string> {\n    const normalizeCase = options?.case;\n    const allowEmpty = options?.allowEmptyString === true;\n    const allowNull = options?.allowNull === true;\n    const trim = Object.prototype.hasOwnProperty.call(options || {}, 'trim') ? !!options?.trim : true;\n    const allowedValues = Array.isArray(options?.allowedValues) ? options?.allowedValues : null;\n\n    return function normalizeString(value: unknown): string | null {\n      if (value === undefined) {\n        return null;\n      }\n\n      if (value === null) {\n        return allowNull ? null : '';\n      }\n\n      let str = String(value);\n      if (trim) {\n        str = str.trim();\n      }\n\n      if (!str && !allowEmpty) {\n        return null;\n      }\n\n      if (normalizeCase === 'upper') {\n        str = str.toUpperCase();\n      } else if (normalizeCase === 'lower') {\n        str = str.toLowerCase();\n      }\n\n      if (allowedValues && allowedValues.length > 0) {\n        const lookup = normalizeCase === 'lower' ? str.toLowerCase() : normalizeCase === 'upper' ? str.toUpperCase() : str;\n\n        const matches = allowedValues.some((allowed) => {\n          if (normalizeCase === 'lower') {\n            return allowed.toLowerCase() === lookup;\n          }\n          if (normalizeCase === 'upper') {\n            return allowed.toUpperCase() === lookup;\n          }\n          return allowed === lookup;\n        });\n\n        if (!matches) {\n          return null;\n        }\n\n        if (normalizeCase === 'lower' || normalizeCase === 'upper') {\n          return lookup;\n        }\n        return str;\n      }\n\n      return str;\n    };\n  }\n\n  function buildNumberNormalizer(options?: NumberNormalizerOptions): Normalizer<number> {\n    const min = typeof options?.min === 'number' ? options.min : null;\n    const max = typeof options?.max === 'number' ? options.max : null;\n    const integer = options?.integer === true;\n\n    return function normalizeNumber(value: unknown): number | null {\n      if (value === undefined || value === null || value === '') {\n        return null;\n      }\n\n      let numeric = typeof value === 'number' ? value : parseFloat(String(value));\n      if (Number.isNaN(numeric)) {\n        return null;\n      }\n\n      if (integer) {\n        numeric = Math.round(numeric);\n      }\n\n      if (min !== null && numeric < min) {\n        numeric = min;\n      }\n\n      if (max !== null && numeric > max) {\n        numeric = max;\n      }\n\n      return numeric;\n    };\n  }\n\n  const settingsSchema: SettingsSchema = {\n    title: {\n      type: 'string',\n      default: '',\n      normalize: buildStringNormalizer({ allowEmptyString: true, allowNull: true, trim: true })\n    },\n    exchange: {\n      type: 'string',\n      default: 'BINANCE',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false, case: 'upper' })\n    },\n    pair: {\n      type: 'string',\n      default: 'BTCUSD',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false, case: 'upper' })\n    },\n    fromCurrency: {\n      type: 'string',\n      default: 'USD',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false, case: 'upper' })\n    },\n    currency: {\n      type: 'string',\n      default: '',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: true, case: 'upper', allowNull: true })\n    },\n    candlesInterval: {\n      type: 'string',\n      default: '1h',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false })\n    },\n    candlesDisplayed: {\n      type: 'number',\n      default: 20,\n      normalize: buildNumberNormalizer({ min: 5, max: 60, integer: true })\n    },\n    multiplier: {\n      type: 'number',\n      default: 1,\n      normalize: buildNumberNormalizer({ min: 0 })\n    },\n    digits: {\n      type: 'number',\n      default: 2,\n      normalize: buildNumberNormalizer({ min: 0, max: 10, integer: true })\n    },\n    highLowDigits: {\n      type: 'string',\n      default: '',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: true })\n    },\n    font: {\n      type: 'string',\n      default: \"Lato,'Roboto Condensed',Helvetica,Calibri,sans-serif\",\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false })\n    },\n    fontSizeBase: {\n      type: 'number',\n      default: 25,\n      normalize: buildNumberNormalizer({ min: 1, max: 200, integer: true })\n    },\n    fontSizePrice: {\n      type: 'number',\n      default: 35,\n      normalize: buildNumberNormalizer({ min: 1, max: 200, integer: true })\n    },\n    fontSizeHighLow: {\n      type: 'string',\n      default: '',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: true })\n    },\n    fontSizeChange: {\n      type: 'number',\n      default: 19,\n      normalize: buildNumberNormalizer({ min: 1, max: 200, integer: true })\n    },\n    priceFormat: {\n      type: 'string',\n      default: 'compact',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false, case: 'lower' })\n    },\n    backgroundColor: {\n      type: 'string',\n      default: '#000000',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false })\n    },\n    textColor: {\n      type: 'string',\n      default: '#ffffff',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false })\n    },\n    displayHighLow: {\n      type: 'string',\n      default: 'on',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false, case: 'lower', allowedValues: ['on', 'off'] })\n    },\n    displayHighLowBar: {\n      type: 'string',\n      default: 'on',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false, case: 'lower', allowedValues: ['on', 'off'] })\n    },\n    displayDailyChange: {\n      type: 'string',\n      default: 'on',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false, case: 'lower', allowedValues: ['on', 'off'] })\n    },\n    displayConnectionStatusIcon: {\n      type: 'string',\n      default: 'OFF',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false, case: 'upper', allowedValues: ['OFF', 'TOP_RIGHT', 'BOTTOM_LEFT'] })\n    },\n    alertRule: {\n      type: 'string',\n      default: '',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: true })\n    },\n    backgroundColorRule: {\n      type: 'string',\n      default: '',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: true })\n    },\n    textColorRule: {\n      type: 'string',\n      default: '',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: true })\n    },\n    mode: {\n      type: 'string',\n      default: 'ticker',\n      normalize: buildStringNormalizer({ trim: true, allowEmptyString: false, case: 'lower', allowedValues: ['ticker', 'candles'] })\n    }\n  };\n\n  function coerceValue<T>(schemaEntry: SettingsSchemaEntry<T>, value: unknown, hasValue: boolean): { value: T; error: string | null } {\n    if (!schemaEntry || typeof schemaEntry !== 'object') {\n      return { value: value as T, error: null };\n    }\n\n    const normalizer = schemaEntry.normalize;\n    const defaultValue = schemaEntry.default;\n    if (typeof normalizer !== 'function') {\n      const resolved = value === undefined ? clone(defaultValue) : (value as T);\n      return { value: resolved, error: null };\n    }\n\n    const normalized = normalizer(value);\n    if (normalized === null || normalized === undefined) {\n      const fallbackNormalized = normalizer(defaultValue);\n      const fallback = fallbackNormalized === null || fallbackNormalized === undefined ? clone(defaultValue) : (fallbackNormalized as T);\n      return {\n        value: fallback,\n        error: hasValue ? 'Invalid ' + schemaEntry.type : null\n      };\n    }\n\n    return {\n      value: normalized as T,\n      error: null\n    };\n  }\n\n  function validateSettings(input: unknown): SettingsValidationResult {\n    const provided = input && typeof input === 'object' ? (input as Record<string, unknown>) : {};\n    const normalized: Record<string, unknown> = {};\n    const errors: SettingsValidationError[] = [];\n\n    for (const key in settingsSchema) {\n      if (!Object.prototype.hasOwnProperty.call(settingsSchema, key)) {\n        continue;\n      }\n      const schemaEntry = settingsSchema[key as keyof CryptoTickerSettings];\n      const hasValue = Object.prototype.hasOwnProperty.call(provided, key);\n      const rawValue = hasValue ? provided[key] : undefined;\n      const result = coerceValue(schemaEntry, rawValue, hasValue);\n      normalized[key] = result.value;\n      if (result.error) {\n        errors.push({ key, message: result.error });\n      }\n    }\n\n    for (const extraKey in provided) {\n      if (\n        !Object.prototype.hasOwnProperty.call(settingsSchema, extraKey) &&\n        Object.prototype.hasOwnProperty.call(provided, extraKey)\n      ) {\n        normalized[extraKey] = provided[extraKey];\n      }\n    }\n\n    return {\n      settings: normalized as NormalizedSettings,\n      errors\n    };\n  }\n\n  function applyDefaults(partialSettings: unknown): NormalizedSettings {\n    const result = validateSettings(partialSettings);\n    return result.settings;\n  }\n\n  const defaultSettings = applyDefaults(null);\n\n  return {\n    settingsSchema,\n    defaultSettings,\n    getDefaultSettings: function (): NormalizedSettings {\n      return clone(defaultSettings);\n    },\n    validateSettings: function (settings: unknown): SettingsValidationResult {\n      const result = validateSettings(settings);\n      return {\n        settings: result.settings,\n        errors: result.errors.slice(0)\n      };\n    },\n    applyDefaults\n  };\n});\n", "(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.exprEval = {}));\n}(this, function (exports) { 'use strict';\n\n  var INUMBER = 'INUMBER';\n  var IOP1 = 'IOP1';\n  var IOP2 = 'IOP2';\n  var IOP3 = 'IOP3';\n  var IVAR = 'IVAR';\n  var IVARNAME = 'IVARNAME';\n  var IFUNCALL = 'IFUNCALL';\n  var IFUNDEF = 'IFUNDEF';\n  var IEXPR = 'IEXPR';\n  var IEXPREVAL = 'IEXPREVAL';\n  var IMEMBER = 'IMEMBER';\n  var IENDSTATEMENT = 'IENDSTATEMENT';\n  var IARRAY = 'IARRAY';\n\n  function Instruction(type, value) {\n    this.type = type;\n    this.value = (value !== undefined && value !== null) ? value : 0;\n  }\n\n  Instruction.prototype.toString = function () {\n    switch (this.type) {\n      case INUMBER:\n      case IOP1:\n      case IOP2:\n      case IOP3:\n      case IVAR:\n      case IVARNAME:\n      case IENDSTATEMENT:\n        return this.value;\n      case IFUNCALL:\n        return 'CALL ' + this.value;\n      case IFUNDEF:\n        return 'DEF ' + this.value;\n      case IARRAY:\n        return 'ARRAY ' + this.value;\n      case IMEMBER:\n        return '.' + this.value;\n      default:\n        return 'Invalid Instruction';\n    }\n  };\n\n  function unaryInstruction(value) {\n    return new Instruction(IOP1, value);\n  }\n\n  function binaryInstruction(value) {\n    return new Instruction(IOP2, value);\n  }\n\n  function ternaryInstruction(value) {\n    return new Instruction(IOP3, value);\n  }\n\n  function simplify(tokens, unaryOps, binaryOps, ternaryOps, values) {\n    var nstack = [];\n    var newexpression = [];\n    var n1, n2, n3;\n    var f;\n    for (var i = 0; i < tokens.length; i++) {\n      var item = tokens[i];\n      var type = item.type;\n      if (type === INUMBER || type === IVARNAME) {\n        if (Array.isArray(item.value)) {\n          nstack.push.apply(nstack, simplify(item.value.map(function (x) {\n            return new Instruction(INUMBER, x);\n          }).concat(new Instruction(IARRAY, item.value.length)), unaryOps, binaryOps, ternaryOps, values));\n        } else {\n          nstack.push(item);\n        }\n      } else if (type === IVAR && values.hasOwnProperty(item.value)) {\n        item = new Instruction(INUMBER, values[item.value]);\n        nstack.push(item);\n      } else if (type === IOP2 && nstack.length > 1) {\n        n2 = nstack.pop();\n        n1 = nstack.pop();\n        f = binaryOps[item.value];\n        item = new Instruction(INUMBER, f(n1.value, n2.value));\n        nstack.push(item);\n      } else if (type === IOP3 && nstack.length > 2) {\n        n3 = nstack.pop();\n        n2 = nstack.pop();\n        n1 = nstack.pop();\n        if (item.value === '?') {\n          nstack.push(n1.value ? n2.value : n3.value);\n        } else {\n          f = ternaryOps[item.value];\n          item = new Instruction(INUMBER, f(n1.value, n2.value, n3.value));\n          nstack.push(item);\n        }\n      } else if (type === IOP1 && nstack.length > 0) {\n        n1 = nstack.pop();\n        f = unaryOps[item.value];\n        item = new Instruction(INUMBER, f(n1.value));\n        nstack.push(item);\n      } else if (type === IEXPR) {\n        while (nstack.length > 0) {\n          newexpression.push(nstack.shift());\n        }\n        newexpression.push(new Instruction(IEXPR, simplify(item.value, unaryOps, binaryOps, ternaryOps, values)));\n      } else if (type === IMEMBER && nstack.length > 0) {\n        n1 = nstack.pop();\n        nstack.push(new Instruction(INUMBER, n1.value[item.value]));\n      } /* else if (type === IARRAY && nstack.length >= item.value) {\n        var length = item.value;\n        while (length-- > 0) {\n          newexpression.push(nstack.pop());\n        }\n        newexpression.push(new Instruction(IARRAY, item.value));\n      } */ else {\n        while (nstack.length > 0) {\n          newexpression.push(nstack.shift());\n        }\n        newexpression.push(item);\n      }\n    }\n    while (nstack.length > 0) {\n      newexpression.push(nstack.shift());\n    }\n    return newexpression;\n  }\n\n  function substitute(tokens, variable, expr) {\n    var newexpression = [];\n    for (var i = 0; i < tokens.length; i++) {\n      var item = tokens[i];\n      var type = item.type;\n      if (type === IVAR && item.value === variable) {\n        for (var j = 0; j < expr.tokens.length; j++) {\n          var expritem = expr.tokens[j];\n          var replitem;\n          if (expritem.type === IOP1) {\n            replitem = unaryInstruction(expritem.value);\n          } else if (expritem.type === IOP2) {\n            replitem = binaryInstruction(expritem.value);\n          } else if (expritem.type === IOP3) {\n            replitem = ternaryInstruction(expritem.value);\n          } else {\n            replitem = new Instruction(expritem.type, expritem.value);\n          }\n          newexpression.push(replitem);\n        }\n      } else if (type === IEXPR) {\n        newexpression.push(new Instruction(IEXPR, substitute(item.value, variable, expr)));\n      } else {\n        newexpression.push(item);\n      }\n    }\n    return newexpression;\n  }\n\n  function evaluate(tokens, expr, values) {\n    var nstack = [];\n    var n1, n2, n3;\n    var f, args, argCount;\n\n    if (isExpressionEvaluator(tokens)) {\n      return resolveExpression(tokens, values);\n    }\n\n    var numTokens = tokens.length;\n\n    for (var i = 0; i < numTokens; i++) {\n      var item = tokens[i];\n      var type = item.type;\n      if (type === INUMBER || type === IVARNAME) {\n        nstack.push(item.value);\n      } else if (type === IOP2) {\n        n2 = nstack.pop();\n        n1 = nstack.pop();\n        if (item.value === 'and') {\n          nstack.push(n1 ? !!evaluate(n2, expr, values) : false);\n        } else if (item.value === 'or') {\n          nstack.push(n1 ? true : !!evaluate(n2, expr, values));\n        } else if (item.value === '=') {\n          f = expr.binaryOps[item.value];\n          nstack.push(f(n1, evaluate(n2, expr, values), values));\n        } else {\n          f = expr.binaryOps[item.value];\n          nstack.push(f(resolveExpression(n1, values), resolveExpression(n2, values)));\n        }\n      } else if (type === IOP3) {\n        n3 = nstack.pop();\n        n2 = nstack.pop();\n        n1 = nstack.pop();\n        if (item.value === '?') {\n          nstack.push(evaluate(n1 ? n2 : n3, expr, values));\n        } else {\n          f = expr.ternaryOps[item.value];\n          nstack.push(f(resolveExpression(n1, values), resolveExpression(n2, values), resolveExpression(n3, values)));\n        }\n      } else if (type === IVAR) {\n        if (item.value in expr.functions) {\n          nstack.push(expr.functions[item.value]);\n        } else if (item.value in expr.unaryOps && expr.parser.isOperatorEnabled(item.value)) {\n          nstack.push(expr.unaryOps[item.value]);\n        } else {\n          var v = values[item.value];\n          if (v !== undefined) {\n            nstack.push(v);\n          } else {\n            throw new Error('undefined variable: ' + item.value);\n          }\n        }\n      } else if (type === IOP1) {\n        n1 = nstack.pop();\n        f = expr.unaryOps[item.value];\n        nstack.push(f(resolveExpression(n1, values)));\n      } else if (type === IFUNCALL) {\n        argCount = item.value;\n        args = [];\n        while (argCount-- > 0) {\n          args.unshift(resolveExpression(nstack.pop(), values));\n        }\n        f = nstack.pop();\n        if (f.apply && f.call) {\n          nstack.push(f.apply(undefined, args));\n        } else {\n          throw new Error(f + ' is not a function');\n        }\n      } else if (type === IFUNDEF) {\n        // Create closure to keep references to arguments and expression\n        nstack.push((function () {\n          var n2 = nstack.pop();\n          var args = [];\n          var argCount = item.value;\n          while (argCount-- > 0) {\n            args.unshift(nstack.pop());\n          }\n          var n1 = nstack.pop();\n          var f = function () {\n            var scope = Object.assign({}, values);\n            for (var i = 0, len = args.length; i < len; i++) {\n              scope[args[i]] = arguments[i];\n            }\n            return evaluate(n2, expr, scope);\n          };\n          // f.name = n1\n          Object.defineProperty(f, 'name', {\n            value: n1,\n            writable: false\n          });\n          values[n1] = f;\n          return f;\n        })());\n      } else if (type === IEXPR) {\n        nstack.push(createExpressionEvaluator(item, expr));\n      } else if (type === IEXPREVAL) {\n        nstack.push(item);\n      } else if (type === IMEMBER) {\n        n1 = nstack.pop();\n        nstack.push(n1[item.value]);\n      } else if (type === IENDSTATEMENT) {\n        nstack.pop();\n      } else if (type === IARRAY) {\n        argCount = item.value;\n        args = [];\n        while (argCount-- > 0) {\n          args.unshift(nstack.pop());\n        }\n        nstack.push(args);\n      } else {\n        throw new Error('invalid Expression');\n      }\n    }\n    if (nstack.length > 1) {\n      throw new Error('invalid Expression (parity)');\n    }\n    // Explicitly return zero to avoid test issues caused by -0\n    return nstack[0] === 0 ? 0 : resolveExpression(nstack[0], values);\n  }\n\n  function createExpressionEvaluator(token, expr, values) {\n    if (isExpressionEvaluator(token)) return token;\n    return {\n      type: IEXPREVAL,\n      value: function (scope) {\n        return evaluate(token.value, expr, scope);\n      }\n    };\n  }\n\n  function isExpressionEvaluator(n) {\n    return n && n.type === IEXPREVAL;\n  }\n\n  function resolveExpression(n, values) {\n    return isExpressionEvaluator(n) ? n.value(values) : n;\n  }\n\n  function expressionToString(tokens, toJS) {\n    var nstack = [];\n    var n1, n2, n3;\n    var f, args, argCount;\n    for (var i = 0; i < tokens.length; i++) {\n      var item = tokens[i];\n      var type = item.type;\n      if (type === INUMBER) {\n        if (typeof item.value === 'number' && item.value < 0) {\n          nstack.push('(' + item.value + ')');\n        } else if (Array.isArray(item.value)) {\n          nstack.push('[' + item.value.map(escapeValue).join(', ') + ']');\n        } else {\n          nstack.push(escapeValue(item.value));\n        }\n      } else if (type === IOP2) {\n        n2 = nstack.pop();\n        n1 = nstack.pop();\n        f = item.value;\n        if (toJS) {\n          if (f === '^') {\n            nstack.push('Math.pow(' + n1 + ', ' + n2 + ')');\n          } else if (f === 'and') {\n            nstack.push('(!!' + n1 + ' && !!' + n2 + ')');\n          } else if (f === 'or') {\n            nstack.push('(!!' + n1 + ' || !!' + n2 + ')');\n          } else if (f === '||') {\n            nstack.push('(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }((' + n1 + '),(' + n2 + ')))');\n          } else if (f === '==') {\n            nstack.push('(' + n1 + ' === ' + n2 + ')');\n          } else if (f === '!=') {\n            nstack.push('(' + n1 + ' !== ' + n2 + ')');\n          } else if (f === '[') {\n            nstack.push(n1 + '[(' + n2 + ') | 0]');\n          } else {\n            nstack.push('(' + n1 + ' ' + f + ' ' + n2 + ')');\n          }\n        } else {\n          if (f === '[') {\n            nstack.push(n1 + '[' + n2 + ']');\n          } else {\n            nstack.push('(' + n1 + ' ' + f + ' ' + n2 + ')');\n          }\n        }\n      } else if (type === IOP3) {\n        n3 = nstack.pop();\n        n2 = nstack.pop();\n        n1 = nstack.pop();\n        f = item.value;\n        if (f === '?') {\n          nstack.push('(' + n1 + ' ? ' + n2 + ' : ' + n3 + ')');\n        } else {\n          throw new Error('invalid Expression');\n        }\n      } else if (type === IVAR || type === IVARNAME) {\n        nstack.push(item.value);\n      } else if (type === IOP1) {\n        n1 = nstack.pop();\n        f = item.value;\n        if (f === '-' || f === '+') {\n          nstack.push('(' + f + n1 + ')');\n        } else if (toJS) {\n          if (f === 'not') {\n            nstack.push('(' + '!' + n1 + ')');\n          } else if (f === '!') {\n            nstack.push('fac(' + n1 + ')');\n          } else {\n            nstack.push(f + '(' + n1 + ')');\n          }\n        } else if (f === '!') {\n          nstack.push('(' + n1 + '!)');\n        } else {\n          nstack.push('(' + f + ' ' + n1 + ')');\n        }\n      } else if (type === IFUNCALL) {\n        argCount = item.value;\n        args = [];\n        while (argCount-- > 0) {\n          args.unshift(nstack.pop());\n        }\n        f = nstack.pop();\n        nstack.push(f + '(' + args.join(', ') + ')');\n      } else if (type === IFUNDEF) {\n        n2 = nstack.pop();\n        argCount = item.value;\n        args = [];\n        while (argCount-- > 0) {\n          args.unshift(nstack.pop());\n        }\n        n1 = nstack.pop();\n        if (toJS) {\n          nstack.push('(' + n1 + ' = function(' + args.join(', ') + ') { return ' + n2 + ' })');\n        } else {\n          nstack.push('(' + n1 + '(' + args.join(', ') + ') = ' + n2 + ')');\n        }\n      } else if (type === IMEMBER) {\n        n1 = nstack.pop();\n        nstack.push(n1 + '.' + item.value);\n      } else if (type === IARRAY) {\n        argCount = item.value;\n        args = [];\n        while (argCount-- > 0) {\n          args.unshift(nstack.pop());\n        }\n        nstack.push('[' + args.join(', ') + ']');\n      } else if (type === IEXPR) {\n        nstack.push('(' + expressionToString(item.value, toJS) + ')');\n      } else if (type === IENDSTATEMENT) ; else {\n        throw new Error('invalid Expression');\n      }\n    }\n    if (nstack.length > 1) {\n      if (toJS) {\n        nstack = [ nstack.join(',') ];\n      } else {\n        nstack = [ nstack.join(';') ];\n      }\n    }\n    return String(nstack[0]);\n  }\n\n  function escapeValue(v) {\n    if (typeof v === 'string') {\n      return JSON.stringify(v).replace(/\\u2028/g, '\\\\u2028').replace(/\\u2029/g, '\\\\u2029');\n    }\n    return v;\n  }\n\n  function contains(array, obj) {\n    for (var i = 0; i < array.length; i++) {\n      if (array[i] === obj) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  function getSymbols(tokens, symbols, options) {\n    options = options || {};\n    var withMembers = !!options.withMembers;\n    var prevVar = null;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var item = tokens[i];\n      if (item.type === IVAR || item.type === IVARNAME) {\n        if (!withMembers && !contains(symbols, item.value)) {\n          symbols.push(item.value);\n        } else if (prevVar !== null) {\n          if (!contains(symbols, prevVar)) {\n            symbols.push(prevVar);\n          }\n          prevVar = item.value;\n        } else {\n          prevVar = item.value;\n        }\n      } else if (item.type === IMEMBER && withMembers && prevVar !== null) {\n        prevVar += '.' + item.value;\n      } else if (item.type === IEXPR) {\n        getSymbols(item.value, symbols, options);\n      } else if (prevVar !== null) {\n        if (!contains(symbols, prevVar)) {\n          symbols.push(prevVar);\n        }\n        prevVar = null;\n      }\n    }\n\n    if (prevVar !== null && !contains(symbols, prevVar)) {\n      symbols.push(prevVar);\n    }\n  }\n\n  function Expression(tokens, parser) {\n    this.tokens = tokens;\n    this.parser = parser;\n    this.unaryOps = parser.unaryOps;\n    this.binaryOps = parser.binaryOps;\n    this.ternaryOps = parser.ternaryOps;\n    this.functions = parser.functions;\n  }\n\n  Expression.prototype.simplify = function (values) {\n    values = values || {};\n    return new Expression(simplify(this.tokens, this.unaryOps, this.binaryOps, this.ternaryOps, values), this.parser);\n  };\n\n  Expression.prototype.substitute = function (variable, expr) {\n    if (!(expr instanceof Expression)) {\n      expr = this.parser.parse(String(expr));\n    }\n\n    return new Expression(substitute(this.tokens, variable, expr), this.parser);\n  };\n\n  Expression.prototype.evaluate = function (values) {\n    values = values || {};\n    return evaluate(this.tokens, this, values);\n  };\n\n  Expression.prototype.toString = function () {\n    return expressionToString(this.tokens, false);\n  };\n\n  Expression.prototype.symbols = function (options) {\n    options = options || {};\n    var vars = [];\n    getSymbols(this.tokens, vars, options);\n    return vars;\n  };\n\n  Expression.prototype.variables = function (options) {\n    options = options || {};\n    var vars = [];\n    getSymbols(this.tokens, vars, options);\n    var functions = this.functions;\n    return vars.filter(function (name) {\n      return !(name in functions);\n    });\n  };\n\n  Expression.prototype.toJSFunction = function (param, variables) {\n    var expr = this;\n    var f = new Function(param, 'with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return ' + expressionToString(this.simplify(variables).tokens, true) + '; }'); // eslint-disable-line no-new-func\n    return function () {\n      return f.apply(expr, arguments);\n    };\n  };\n\n  var TEOF = 'TEOF';\n  var TOP = 'TOP';\n  var TNUMBER = 'TNUMBER';\n  var TSTRING = 'TSTRING';\n  var TPAREN = 'TPAREN';\n  var TBRACKET = 'TBRACKET';\n  var TCOMMA = 'TCOMMA';\n  var TNAME = 'TNAME';\n  var TSEMICOLON = 'TSEMICOLON';\n\n  function Token(type, value, index) {\n    this.type = type;\n    this.value = value;\n    this.index = index;\n  }\n\n  Token.prototype.toString = function () {\n    return this.type + ': ' + this.value;\n  };\n\n  function TokenStream(parser, expression) {\n    this.pos = 0;\n    this.current = null;\n    this.unaryOps = parser.unaryOps;\n    this.binaryOps = parser.binaryOps;\n    this.ternaryOps = parser.ternaryOps;\n    this.consts = parser.consts;\n    this.expression = expression;\n    this.savedPosition = 0;\n    this.savedCurrent = null;\n    this.options = parser.options;\n    this.parser = parser;\n  }\n\n  TokenStream.prototype.newToken = function (type, value, pos) {\n    return new Token(type, value, pos != null ? pos : this.pos);\n  };\n\n  TokenStream.prototype.save = function () {\n    this.savedPosition = this.pos;\n    this.savedCurrent = this.current;\n  };\n\n  TokenStream.prototype.restore = function () {\n    this.pos = this.savedPosition;\n    this.current = this.savedCurrent;\n  };\n\n  TokenStream.prototype.next = function () {\n    if (this.pos >= this.expression.length) {\n      return this.newToken(TEOF, 'EOF');\n    }\n\n    if (this.isWhitespace() || this.isComment()) {\n      return this.next();\n    } else if (this.isRadixInteger() ||\n        this.isNumber() ||\n        this.isOperator() ||\n        this.isString() ||\n        this.isParen() ||\n        this.isBracket() ||\n        this.isComma() ||\n        this.isSemicolon() ||\n        this.isNamedOp() ||\n        this.isConst() ||\n        this.isName()) {\n      return this.current;\n    } else {\n      this.parseError('Unknown character \"' + this.expression.charAt(this.pos) + '\"');\n    }\n  };\n\n  TokenStream.prototype.isString = function () {\n    var r = false;\n    var startPos = this.pos;\n    var quote = this.expression.charAt(startPos);\n\n    if (quote === '\\'' || quote === '\"') {\n      var index = this.expression.indexOf(quote, startPos + 1);\n      while (index >= 0 && this.pos < this.expression.length) {\n        this.pos = index + 1;\n        if (this.expression.charAt(index - 1) !== '\\\\') {\n          var rawString = this.expression.substring(startPos + 1, index);\n          this.current = this.newToken(TSTRING, this.unescape(rawString), startPos);\n          r = true;\n          break;\n        }\n        index = this.expression.indexOf(quote, index + 1);\n      }\n    }\n    return r;\n  };\n\n  TokenStream.prototype.isParen = function () {\n    var c = this.expression.charAt(this.pos);\n    if (c === '(' || c === ')') {\n      this.current = this.newToken(TPAREN, c);\n      this.pos++;\n      return true;\n    }\n    return false;\n  };\n\n  TokenStream.prototype.isBracket = function () {\n    var c = this.expression.charAt(this.pos);\n    if ((c === '[' || c === ']') && this.isOperatorEnabled('[')) {\n      this.current = this.newToken(TBRACKET, c);\n      this.pos++;\n      return true;\n    }\n    return false;\n  };\n\n  TokenStream.prototype.isComma = function () {\n    var c = this.expression.charAt(this.pos);\n    if (c === ',') {\n      this.current = this.newToken(TCOMMA, ',');\n      this.pos++;\n      return true;\n    }\n    return false;\n  };\n\n  TokenStream.prototype.isSemicolon = function () {\n    var c = this.expression.charAt(this.pos);\n    if (c === ';') {\n      this.current = this.newToken(TSEMICOLON, ';');\n      this.pos++;\n      return true;\n    }\n    return false;\n  };\n\n  TokenStream.prototype.isConst = function () {\n    var startPos = this.pos;\n    var i = startPos;\n    for (; i < this.expression.length; i++) {\n      var c = this.expression.charAt(i);\n      if (c.toUpperCase() === c.toLowerCase()) {\n        if (i === this.pos || (c !== '_' && c !== '.' && (c < '0' || c > '9'))) {\n          break;\n        }\n      }\n    }\n    if (i > startPos) {\n      var str = this.expression.substring(startPos, i);\n      if (str in this.consts) {\n        this.current = this.newToken(TNUMBER, this.consts[str]);\n        this.pos += str.length;\n        return true;\n      }\n    }\n    return false;\n  };\n\n  TokenStream.prototype.isNamedOp = function () {\n    var startPos = this.pos;\n    var i = startPos;\n    for (; i < this.expression.length; i++) {\n      var c = this.expression.charAt(i);\n      if (c.toUpperCase() === c.toLowerCase()) {\n        if (i === this.pos || (c !== '_' && (c < '0' || c > '9'))) {\n          break;\n        }\n      }\n    }\n    if (i > startPos) {\n      var str = this.expression.substring(startPos, i);\n      if (this.isOperatorEnabled(str) && (str in this.binaryOps || str in this.unaryOps || str in this.ternaryOps)) {\n        this.current = this.newToken(TOP, str);\n        this.pos += str.length;\n        return true;\n      }\n    }\n    return false;\n  };\n\n  TokenStream.prototype.isName = function () {\n    var startPos = this.pos;\n    var i = startPos;\n    var hasLetter = false;\n    for (; i < this.expression.length; i++) {\n      var c = this.expression.charAt(i);\n      if (c.toUpperCase() === c.toLowerCase()) {\n        if (i === this.pos && (c === '$' || c === '_')) {\n          if (c === '_') {\n            hasLetter = true;\n          }\n          continue;\n        } else if (i === this.pos || !hasLetter || (c !== '_' && (c < '0' || c > '9'))) {\n          break;\n        }\n      } else {\n        hasLetter = true;\n      }\n    }\n    if (hasLetter) {\n      var str = this.expression.substring(startPos, i);\n      this.current = this.newToken(TNAME, str);\n      this.pos += str.length;\n      return true;\n    }\n    return false;\n  };\n\n  TokenStream.prototype.isWhitespace = function () {\n    var r = false;\n    var c = this.expression.charAt(this.pos);\n    while (c === ' ' || c === '\\t' || c === '\\n' || c === '\\r') {\n      r = true;\n      this.pos++;\n      if (this.pos >= this.expression.length) {\n        break;\n      }\n      c = this.expression.charAt(this.pos);\n    }\n    return r;\n  };\n\n  var codePointPattern = /^[0-9a-f]{4}$/i;\n\n  TokenStream.prototype.unescape = function (v) {\n    var index = v.indexOf('\\\\');\n    if (index < 0) {\n      return v;\n    }\n\n    var buffer = v.substring(0, index);\n    while (index >= 0) {\n      var c = v.charAt(++index);\n      switch (c) {\n        case '\\'':\n          buffer += '\\'';\n          break;\n        case '\"':\n          buffer += '\"';\n          break;\n        case '\\\\':\n          buffer += '\\\\';\n          break;\n        case '/':\n          buffer += '/';\n          break;\n        case 'b':\n          buffer += '\\b';\n          break;\n        case 'f':\n          buffer += '\\f';\n          break;\n        case 'n':\n          buffer += '\\n';\n          break;\n        case 'r':\n          buffer += '\\r';\n          break;\n        case 't':\n          buffer += '\\t';\n          break;\n        case 'u':\n          // interpret the following 4 characters as the hex of the unicode code point\n          var codePoint = v.substring(index + 1, index + 5);\n          if (!codePointPattern.test(codePoint)) {\n            this.parseError('Illegal escape sequence: \\\\u' + codePoint);\n          }\n          buffer += String.fromCharCode(parseInt(codePoint, 16));\n          index += 4;\n          break;\n        default:\n          throw this.parseError('Illegal escape sequence: \"\\\\' + c + '\"');\n      }\n      ++index;\n      var backslash = v.indexOf('\\\\', index);\n      buffer += v.substring(index, backslash < 0 ? v.length : backslash);\n      index = backslash;\n    }\n\n    return buffer;\n  };\n\n  TokenStream.prototype.isComment = function () {\n    var c = this.expression.charAt(this.pos);\n    if (c === '/' && this.expression.charAt(this.pos + 1) === '*') {\n      this.pos = this.expression.indexOf('*/', this.pos) + 2;\n      if (this.pos === 1) {\n        this.pos = this.expression.length;\n      }\n      return true;\n    }\n    return false;\n  };\n\n  TokenStream.prototype.isRadixInteger = function () {\n    var pos = this.pos;\n\n    if (pos >= this.expression.length - 2 || this.expression.charAt(pos) !== '0') {\n      return false;\n    }\n    ++pos;\n\n    var radix;\n    var validDigit;\n    if (this.expression.charAt(pos) === 'x') {\n      radix = 16;\n      validDigit = /^[0-9a-f]$/i;\n      ++pos;\n    } else if (this.expression.charAt(pos) === 'b') {\n      radix = 2;\n      validDigit = /^[01]$/i;\n      ++pos;\n    } else {\n      return false;\n    }\n\n    var valid = false;\n    var startPos = pos;\n\n    while (pos < this.expression.length) {\n      var c = this.expression.charAt(pos);\n      if (validDigit.test(c)) {\n        pos++;\n        valid = true;\n      } else {\n        break;\n      }\n    }\n\n    if (valid) {\n      this.current = this.newToken(TNUMBER, parseInt(this.expression.substring(startPos, pos), radix));\n      this.pos = pos;\n    }\n    return valid;\n  };\n\n  TokenStream.prototype.isNumber = function () {\n    var valid = false;\n    var pos = this.pos;\n    var startPos = pos;\n    var resetPos = pos;\n    var foundDot = false;\n    var foundDigits = false;\n    var c;\n\n    while (pos < this.expression.length) {\n      c = this.expression.charAt(pos);\n      if ((c >= '0' && c <= '9') || (!foundDot && c === '.')) {\n        if (c === '.') {\n          foundDot = true;\n        } else {\n          foundDigits = true;\n        }\n        pos++;\n        valid = foundDigits;\n      } else {\n        break;\n      }\n    }\n\n    if (valid) {\n      resetPos = pos;\n    }\n\n    if (c === 'e' || c === 'E') {\n      pos++;\n      var acceptSign = true;\n      var validExponent = false;\n      while (pos < this.expression.length) {\n        c = this.expression.charAt(pos);\n        if (acceptSign && (c === '+' || c === '-')) {\n          acceptSign = false;\n        } else if (c >= '0' && c <= '9') {\n          validExponent = true;\n          acceptSign = false;\n        } else {\n          break;\n        }\n        pos++;\n      }\n\n      if (!validExponent) {\n        pos = resetPos;\n      }\n    }\n\n    if (valid) {\n      this.current = this.newToken(TNUMBER, parseFloat(this.expression.substring(startPos, pos)));\n      this.pos = pos;\n    } else {\n      this.pos = resetPos;\n    }\n    return valid;\n  };\n\n  TokenStream.prototype.isOperator = function () {\n    var startPos = this.pos;\n    var c = this.expression.charAt(this.pos);\n\n    if (c === '+' || c === '-' || c === '*' || c === '/' || c === '%' || c === '^' || c === '?' || c === ':' || c === '.') {\n      this.current = this.newToken(TOP, c);\n    } else if (c === '\u2219' || c === '\u2022') {\n      this.current = this.newToken(TOP, '*');\n    } else if (c === '>') {\n      if (this.expression.charAt(this.pos + 1) === '=') {\n        this.current = this.newToken(TOP, '>=');\n        this.pos++;\n      } else {\n        this.current = this.newToken(TOP, '>');\n      }\n    } else if (c === '<') {\n      if (this.expression.charAt(this.pos + 1) === '=') {\n        this.current = this.newToken(TOP, '<=');\n        this.pos++;\n      } else {\n        this.current = this.newToken(TOP, '<');\n      }\n    } else if (c === '|') {\n      if (this.expression.charAt(this.pos + 1) === '|') {\n        this.current = this.newToken(TOP, '||');\n        this.pos++;\n      } else {\n        return false;\n      }\n    } else if (c === '=') {\n      if (this.expression.charAt(this.pos + 1) === '=') {\n        this.current = this.newToken(TOP, '==');\n        this.pos++;\n      } else {\n        this.current = this.newToken(TOP, c);\n      }\n    } else if (c === '!') {\n      if (this.expression.charAt(this.pos + 1) === '=') {\n        this.current = this.newToken(TOP, '!=');\n        this.pos++;\n      } else {\n        this.current = this.newToken(TOP, c);\n      }\n    } else {\n      return false;\n    }\n    this.pos++;\n\n    if (this.isOperatorEnabled(this.current.value)) {\n      return true;\n    } else {\n      this.pos = startPos;\n      return false;\n    }\n  };\n\n  TokenStream.prototype.isOperatorEnabled = function (op) {\n    return this.parser.isOperatorEnabled(op);\n  };\n\n  TokenStream.prototype.getCoordinates = function () {\n    var line = 0;\n    var column;\n    var newline = -1;\n    do {\n      line++;\n      column = this.pos - newline;\n      newline = this.expression.indexOf('\\n', newline + 1);\n    } while (newline >= 0 && newline < this.pos);\n\n    return {\n      line: line,\n      column: column\n    };\n  };\n\n  TokenStream.prototype.parseError = function (msg) {\n    var coords = this.getCoordinates();\n    throw new Error('parse error [' + coords.line + ':' + coords.column + ']: ' + msg);\n  };\n\n  function ParserState(parser, tokenStream, options) {\n    this.parser = parser;\n    this.tokens = tokenStream;\n    this.current = null;\n    this.nextToken = null;\n    this.next();\n    this.savedCurrent = null;\n    this.savedNextToken = null;\n    this.allowMemberAccess = options.allowMemberAccess !== false;\n  }\n\n  ParserState.prototype.next = function () {\n    this.current = this.nextToken;\n    return (this.nextToken = this.tokens.next());\n  };\n\n  ParserState.prototype.tokenMatches = function (token, value) {\n    if (typeof value === 'undefined') {\n      return true;\n    } else if (Array.isArray(value)) {\n      return contains(value, token.value);\n    } else if (typeof value === 'function') {\n      return value(token);\n    } else {\n      return token.value === value;\n    }\n  };\n\n  ParserState.prototype.save = function () {\n    this.savedCurrent = this.current;\n    this.savedNextToken = this.nextToken;\n    this.tokens.save();\n  };\n\n  ParserState.prototype.restore = function () {\n    this.tokens.restore();\n    this.current = this.savedCurrent;\n    this.nextToken = this.savedNextToken;\n  };\n\n  ParserState.prototype.accept = function (type, value) {\n    if (this.nextToken.type === type && this.tokenMatches(this.nextToken, value)) {\n      this.next();\n      return true;\n    }\n    return false;\n  };\n\n  ParserState.prototype.expect = function (type, value) {\n    if (!this.accept(type, value)) {\n      var coords = this.tokens.getCoordinates();\n      throw new Error('parse error [' + coords.line + ':' + coords.column + ']: Expected ' + (value || type));\n    }\n  };\n\n  ParserState.prototype.parseAtom = function (instr) {\n    var unaryOps = this.tokens.unaryOps;\n    function isPrefixOperator(token) {\n      return token.value in unaryOps;\n    }\n\n    if (this.accept(TNAME) || this.accept(TOP, isPrefixOperator)) {\n      instr.push(new Instruction(IVAR, this.current.value));\n    } else if (this.accept(TNUMBER)) {\n      instr.push(new Instruction(INUMBER, this.current.value));\n    } else if (this.accept(TSTRING)) {\n      instr.push(new Instruction(INUMBER, this.current.value));\n    } else if (this.accept(TPAREN, '(')) {\n      this.parseExpression(instr);\n      this.expect(TPAREN, ')');\n    } else if (this.accept(TBRACKET, '[')) {\n      if (this.accept(TBRACKET, ']')) {\n        instr.push(new Instruction(IARRAY, 0));\n      } else {\n        var argCount = this.parseArrayList(instr);\n        instr.push(new Instruction(IARRAY, argCount));\n      }\n    } else {\n      throw new Error('unexpected ' + this.nextToken);\n    }\n  };\n\n  ParserState.prototype.parseExpression = function (instr) {\n    var exprInstr = [];\n    if (this.parseUntilEndStatement(instr, exprInstr)) {\n      return;\n    }\n    this.parseVariableAssignmentExpression(exprInstr);\n    if (this.parseUntilEndStatement(instr, exprInstr)) {\n      return;\n    }\n    this.pushExpression(instr, exprInstr);\n  };\n\n  ParserState.prototype.pushExpression = function (instr, exprInstr) {\n    for (var i = 0, len = exprInstr.length; i < len; i++) {\n      instr.push(exprInstr[i]);\n    }\n  };\n\n  ParserState.prototype.parseUntilEndStatement = function (instr, exprInstr) {\n    if (!this.accept(TSEMICOLON)) return false;\n    if (this.nextToken && this.nextToken.type !== TEOF && !(this.nextToken.type === TPAREN && this.nextToken.value === ')')) {\n      exprInstr.push(new Instruction(IENDSTATEMENT));\n    }\n    if (this.nextToken.type !== TEOF) {\n      this.parseExpression(exprInstr);\n    }\n    instr.push(new Instruction(IEXPR, exprInstr));\n    return true;\n  };\n\n  ParserState.prototype.parseArrayList = function (instr) {\n    var argCount = 0;\n\n    while (!this.accept(TBRACKET, ']')) {\n      this.parseExpression(instr);\n      ++argCount;\n      while (this.accept(TCOMMA)) {\n        this.parseExpression(instr);\n        ++argCount;\n      }\n    }\n\n    return argCount;\n  };\n\n  ParserState.prototype.parseVariableAssignmentExpression = function (instr) {\n    this.parseConditionalExpression(instr);\n    while (this.accept(TOP, '=')) {\n      var varName = instr.pop();\n      var varValue = [];\n      var lastInstrIndex = instr.length - 1;\n      if (varName.type === IFUNCALL) {\n        if (!this.tokens.isOperatorEnabled('()=')) {\n          throw new Error('function definition is not permitted');\n        }\n        for (var i = 0, len = varName.value + 1; i < len; i++) {\n          var index = lastInstrIndex - i;\n          if (instr[index].type === IVAR) {\n            instr[index] = new Instruction(IVARNAME, instr[index].value);\n          }\n        }\n        this.parseVariableAssignmentExpression(varValue);\n        instr.push(new Instruction(IEXPR, varValue));\n        instr.push(new Instruction(IFUNDEF, varName.value));\n        continue;\n      }\n      if (varName.type !== IVAR && varName.type !== IMEMBER) {\n        throw new Error('expected variable for assignment');\n      }\n      this.parseVariableAssignmentExpression(varValue);\n      instr.push(new Instruction(IVARNAME, varName.value));\n      instr.push(new Instruction(IEXPR, varValue));\n      instr.push(binaryInstruction('='));\n    }\n  };\n\n  ParserState.prototype.parseConditionalExpression = function (instr) {\n    this.parseOrExpression(instr);\n    while (this.accept(TOP, '?')) {\n      var trueBranch = [];\n      var falseBranch = [];\n      this.parseConditionalExpression(trueBranch);\n      this.expect(TOP, ':');\n      this.parseConditionalExpression(falseBranch);\n      instr.push(new Instruction(IEXPR, trueBranch));\n      instr.push(new Instruction(IEXPR, falseBranch));\n      instr.push(ternaryInstruction('?'));\n    }\n  };\n\n  ParserState.prototype.parseOrExpression = function (instr) {\n    this.parseAndExpression(instr);\n    while (this.accept(TOP, 'or')) {\n      var falseBranch = [];\n      this.parseAndExpression(falseBranch);\n      instr.push(new Instruction(IEXPR, falseBranch));\n      instr.push(binaryInstruction('or'));\n    }\n  };\n\n  ParserState.prototype.parseAndExpression = function (instr) {\n    this.parseComparison(instr);\n    while (this.accept(TOP, 'and')) {\n      var trueBranch = [];\n      this.parseComparison(trueBranch);\n      instr.push(new Instruction(IEXPR, trueBranch));\n      instr.push(binaryInstruction('and'));\n    }\n  };\n\n  var COMPARISON_OPERATORS = ['==', '!=', '<', '<=', '>=', '>', 'in'];\n\n  ParserState.prototype.parseComparison = function (instr) {\n    this.parseAddSub(instr);\n    while (this.accept(TOP, COMPARISON_OPERATORS)) {\n      var op = this.current;\n      this.parseAddSub(instr);\n      instr.push(binaryInstruction(op.value));\n    }\n  };\n\n  var ADD_SUB_OPERATORS = ['+', '-', '||'];\n\n  ParserState.prototype.parseAddSub = function (instr) {\n    this.parseTerm(instr);\n    while (this.accept(TOP, ADD_SUB_OPERATORS)) {\n      var op = this.current;\n      this.parseTerm(instr);\n      instr.push(binaryInstruction(op.value));\n    }\n  };\n\n  var TERM_OPERATORS = ['*', '/', '%'];\n\n  ParserState.prototype.parseTerm = function (instr) {\n    this.parseFactor(instr);\n    while (this.accept(TOP, TERM_OPERATORS)) {\n      var op = this.current;\n      this.parseFactor(instr);\n      instr.push(binaryInstruction(op.value));\n    }\n  };\n\n  ParserState.prototype.parseFactor = function (instr) {\n    var unaryOps = this.tokens.unaryOps;\n    function isPrefixOperator(token) {\n      return token.value in unaryOps;\n    }\n\n    this.save();\n    if (this.accept(TOP, isPrefixOperator)) {\n      if (this.current.value !== '-' && this.current.value !== '+') {\n        if (this.nextToken.type === TPAREN && this.nextToken.value === '(') {\n          this.restore();\n          this.parseExponential(instr);\n          return;\n        } else if (this.nextToken.type === TSEMICOLON || this.nextToken.type === TCOMMA || this.nextToken.type === TEOF || (this.nextToken.type === TPAREN && this.nextToken.value === ')')) {\n          this.restore();\n          this.parseAtom(instr);\n          return;\n        }\n      }\n\n      var op = this.current;\n      this.parseFactor(instr);\n      instr.push(unaryInstruction(op.value));\n    } else {\n      this.parseExponential(instr);\n    }\n  };\n\n  ParserState.prototype.parseExponential = function (instr) {\n    this.parsePostfixExpression(instr);\n    while (this.accept(TOP, '^')) {\n      this.parseFactor(instr);\n      instr.push(binaryInstruction('^'));\n    }\n  };\n\n  ParserState.prototype.parsePostfixExpression = function (instr) {\n    this.parseFunctionCall(instr);\n    while (this.accept(TOP, '!')) {\n      instr.push(unaryInstruction('!'));\n    }\n  };\n\n  ParserState.prototype.parseFunctionCall = function (instr) {\n    var unaryOps = this.tokens.unaryOps;\n    function isPrefixOperator(token) {\n      return token.value in unaryOps;\n    }\n\n    if (this.accept(TOP, isPrefixOperator)) {\n      var op = this.current;\n      this.parseAtom(instr);\n      instr.push(unaryInstruction(op.value));\n    } else {\n      this.parseMemberExpression(instr);\n      while (this.accept(TPAREN, '(')) {\n        if (this.accept(TPAREN, ')')) {\n          instr.push(new Instruction(IFUNCALL, 0));\n        } else {\n          var argCount = this.parseArgumentList(instr);\n          instr.push(new Instruction(IFUNCALL, argCount));\n        }\n      }\n    }\n  };\n\n  ParserState.prototype.parseArgumentList = function (instr) {\n    var argCount = 0;\n\n    while (!this.accept(TPAREN, ')')) {\n      this.parseExpression(instr);\n      ++argCount;\n      while (this.accept(TCOMMA)) {\n        this.parseExpression(instr);\n        ++argCount;\n      }\n    }\n\n    return argCount;\n  };\n\n  ParserState.prototype.parseMemberExpression = function (instr) {\n    this.parseAtom(instr);\n    while (this.accept(TOP, '.') || this.accept(TBRACKET, '[')) {\n      var op = this.current;\n\n      if (op.value === '.') {\n        if (!this.allowMemberAccess) {\n          throw new Error('unexpected \".\", member access is not permitted');\n        }\n\n        this.expect(TNAME);\n        instr.push(new Instruction(IMEMBER, this.current.value));\n      } else if (op.value === '[') {\n        if (!this.tokens.isOperatorEnabled('[')) {\n          throw new Error('unexpected \"[]\", arrays are disabled');\n        }\n\n        this.parseExpression(instr);\n        this.expect(TBRACKET, ']');\n        instr.push(binaryInstruction('['));\n      } else {\n        throw new Error('unexpected symbol: ' + op.value);\n      }\n    }\n  };\n\n  function add(a, b) {\n    return Number(a) + Number(b);\n  }\n\n  function sub(a, b) {\n    return a - b;\n  }\n\n  function mul(a, b) {\n    return a * b;\n  }\n\n  function div(a, b) {\n    return a / b;\n  }\n\n  function mod(a, b) {\n    return a % b;\n  }\n\n  function concat(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n      return a.concat(b);\n    }\n    return '' + a + b;\n  }\n\n  function equal(a, b) {\n    return a === b;\n  }\n\n  function notEqual(a, b) {\n    return a !== b;\n  }\n\n  function greaterThan(a, b) {\n    return a > b;\n  }\n\n  function lessThan(a, b) {\n    return a < b;\n  }\n\n  function greaterThanEqual(a, b) {\n    return a >= b;\n  }\n\n  function lessThanEqual(a, b) {\n    return a <= b;\n  }\n\n  function andOperator(a, b) {\n    return Boolean(a && b);\n  }\n\n  function orOperator(a, b) {\n    return Boolean(a || b);\n  }\n\n  function inOperator(a, b) {\n    return contains(b, a);\n  }\n\n  function sinh(a) {\n    return ((Math.exp(a) - Math.exp(-a)) / 2);\n  }\n\n  function cosh(a) {\n    return ((Math.exp(a) + Math.exp(-a)) / 2);\n  }\n\n  function tanh(a) {\n    if (a === Infinity) return 1;\n    if (a === -Infinity) return -1;\n    return (Math.exp(a) - Math.exp(-a)) / (Math.exp(a) + Math.exp(-a));\n  }\n\n  function asinh(a) {\n    if (a === -Infinity) return a;\n    return Math.log(a + Math.sqrt((a * a) + 1));\n  }\n\n  function acosh(a) {\n    return Math.log(a + Math.sqrt((a * a) - 1));\n  }\n\n  function atanh(a) {\n    return (Math.log((1 + a) / (1 - a)) / 2);\n  }\n\n  function log10(a) {\n    return Math.log(a) * Math.LOG10E;\n  }\n\n  function neg(a) {\n    return -a;\n  }\n\n  function not(a) {\n    return !a;\n  }\n\n  function trunc(a) {\n    return a < 0 ? Math.ceil(a) : Math.floor(a);\n  }\n\n  function random(a) {\n    return Math.random() * (a || 1);\n  }\n\n  function factorial(a) { // a!\n    return gamma(a + 1);\n  }\n\n  function isInteger(value) {\n    return isFinite(value) && (value === Math.round(value));\n  }\n\n  var GAMMA_G = 4.7421875;\n  var GAMMA_P = [\n    0.99999999999999709182,\n    57.156235665862923517, -59.597960355475491248,\n    14.136097974741747174, -0.49191381609762019978,\n    0.33994649984811888699e-4,\n    0.46523628927048575665e-4, -0.98374475304879564677e-4,\n    0.15808870322491248884e-3, -0.21026444172410488319e-3,\n    0.21743961811521264320e-3, -0.16431810653676389022e-3,\n    0.84418223983852743293e-4, -0.26190838401581408670e-4,\n    0.36899182659531622704e-5\n  ];\n\n  // Gamma function from math.js\n  function gamma(n) {\n    var t, x;\n\n    if (isInteger(n)) {\n      if (n <= 0) {\n        return isFinite(n) ? Infinity : NaN;\n      }\n\n      if (n > 171) {\n        return Infinity; // Will overflow\n      }\n\n      var value = n - 2;\n      var res = n - 1;\n      while (value > 1) {\n        res *= value;\n        value--;\n      }\n\n      if (res === 0) {\n        res = 1; // 0! is per definition 1\n      }\n\n      return res;\n    }\n\n    if (n < 0.5) {\n      return Math.PI / (Math.sin(Math.PI * n) * gamma(1 - n));\n    }\n\n    if (n >= 171.35) {\n      return Infinity; // will overflow\n    }\n\n    if (n > 85.0) { // Extended Stirling Approx\n      var twoN = n * n;\n      var threeN = twoN * n;\n      var fourN = threeN * n;\n      var fiveN = fourN * n;\n      return Math.sqrt(2 * Math.PI / n) * Math.pow((n / Math.E), n) *\n        (1 + (1 / (12 * n)) + (1 / (288 * twoN)) - (139 / (51840 * threeN)) -\n        (571 / (2488320 * fourN)) + (163879 / (209018880 * fiveN)) +\n        (5246819 / (75246796800 * fiveN * n)));\n    }\n\n    --n;\n    x = GAMMA_P[0];\n    for (var i = 1; i < GAMMA_P.length; ++i) {\n      x += GAMMA_P[i] / (n + i);\n    }\n\n    t = n + GAMMA_G + 0.5;\n    return Math.sqrt(2 * Math.PI) * Math.pow(t, n + 0.5) * Math.exp(-t) * x;\n  }\n\n  function stringOrArrayLength(s) {\n    if (Array.isArray(s)) {\n      return s.length;\n    }\n    return String(s).length;\n  }\n\n  function hypot() {\n    var sum = 0;\n    var larg = 0;\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = Math.abs(arguments[i]);\n      var div;\n      if (larg < arg) {\n        div = larg / arg;\n        sum = (sum * div * div) + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else {\n        sum += arg;\n      }\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n\n  function condition(cond, yep, nope) {\n    return cond ? yep : nope;\n  }\n\n  /**\n  * Decimal adjustment of a number.\n  * From @escopecz.\n  *\n  * @param {Number} value The number.\n  * @param {Integer} exp  The exponent (the 10 logarithm of the adjustment base).\n  * @return {Number} The adjusted value.\n  */\n  function roundTo(value, exp) {\n    // If the exp is undefined or zero...\n    if (typeof exp === 'undefined' || +exp === 0) {\n      return Math.round(value);\n    }\n    value = +value;\n    exp = -(+exp);\n    // If the value is not a number or the exp is not an integer...\n    if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n      return NaN;\n    }\n    // Shift\n    value = value.toString().split('e');\n    value = Math.round(+(value[0] + 'e' + (value[1] ? (+value[1] - exp) : -exp)));\n    // Shift back\n    value = value.toString().split('e');\n    return +(value[0] + 'e' + (value[1] ? (+value[1] + exp) : exp));\n  }\n\n  function setVar(name, value, variables) {\n    if (variables) variables[name] = value;\n    return value;\n  }\n\n  function arrayIndex(array, index) {\n    return array[index | 0];\n  }\n\n  function max(array) {\n    if (arguments.length === 1 && Array.isArray(array)) {\n      return Math.max.apply(Math, array);\n    } else {\n      return Math.max.apply(Math, arguments);\n    }\n  }\n\n  function min(array) {\n    if (arguments.length === 1 && Array.isArray(array)) {\n      return Math.min.apply(Math, array);\n    } else {\n      return Math.min.apply(Math, arguments);\n    }\n  }\n\n  function arrayMap(f, a) {\n    if (typeof f !== 'function') {\n      throw new Error('First argument to map is not a function');\n    }\n    if (!Array.isArray(a)) {\n      throw new Error('Second argument to map is not an array');\n    }\n    return a.map(function (x, i) {\n      return f(x, i);\n    });\n  }\n\n  function arrayFold(f, init, a) {\n    if (typeof f !== 'function') {\n      throw new Error('First argument to fold is not a function');\n    }\n    if (!Array.isArray(a)) {\n      throw new Error('Second argument to fold is not an array');\n    }\n    return a.reduce(function (acc, x, i) {\n      return f(acc, x, i);\n    }, init);\n  }\n\n  function arrayFilter(f, a) {\n    if (typeof f !== 'function') {\n      throw new Error('First argument to filter is not a function');\n    }\n    if (!Array.isArray(a)) {\n      throw new Error('Second argument to filter is not an array');\n    }\n    return a.filter(function (x, i) {\n      return f(x, i);\n    });\n  }\n\n  function stringOrArrayIndexOf(target, s) {\n    if (!(Array.isArray(s) || typeof s === 'string')) {\n      throw new Error('Second argument to indexOf is not a string or array');\n    }\n\n    return s.indexOf(target);\n  }\n\n  function arrayJoin(sep, a) {\n    if (!Array.isArray(a)) {\n      throw new Error('Second argument to join is not an array');\n    }\n\n    return a.join(sep);\n  }\n\n  function sign(x) {\n    return ((x > 0) - (x < 0)) || +x;\n  }\n\n  var ONE_THIRD = 1/3;\n  function cbrt(x) {\n    return x < 0 ? -Math.pow(-x, ONE_THIRD) : Math.pow(x, ONE_THIRD);\n  }\n\n  function expm1(x) {\n    return Math.exp(x) - 1;\n  }\n\n  function log1p(x) {\n    return Math.log(1 + x);\n  }\n\n  function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n\n  function Parser(options) {\n    this.options = options || {};\n    this.unaryOps = {\n      sin: Math.sin,\n      cos: Math.cos,\n      tan: Math.tan,\n      asin: Math.asin,\n      acos: Math.acos,\n      atan: Math.atan,\n      sinh: Math.sinh || sinh,\n      cosh: Math.cosh || cosh,\n      tanh: Math.tanh || tanh,\n      asinh: Math.asinh || asinh,\n      acosh: Math.acosh || acosh,\n      atanh: Math.atanh || atanh,\n      sqrt: Math.sqrt,\n      cbrt: Math.cbrt || cbrt,\n      log: Math.log,\n      log2: Math.log2 || log2,\n      ln: Math.log,\n      lg: Math.log10 || log10,\n      log10: Math.log10 || log10,\n      expm1: Math.expm1 || expm1,\n      log1p: Math.log1p || log1p,\n      abs: Math.abs,\n      ceil: Math.ceil,\n      floor: Math.floor,\n      round: Math.round,\n      trunc: Math.trunc || trunc,\n      '-': neg,\n      '+': Number,\n      exp: Math.exp,\n      not: not,\n      length: stringOrArrayLength,\n      '!': factorial,\n      sign: Math.sign || sign\n    };\n\n    this.binaryOps = {\n      '+': add,\n      '-': sub,\n      '*': mul,\n      '/': div,\n      '%': mod,\n      '^': Math.pow,\n      '||': concat,\n      '==': equal,\n      '!=': notEqual,\n      '>': greaterThan,\n      '<': lessThan,\n      '>=': greaterThanEqual,\n      '<=': lessThanEqual,\n      and: andOperator,\n      or: orOperator,\n      'in': inOperator,\n      '=': setVar,\n      '[': arrayIndex\n    };\n\n    this.ternaryOps = {\n      '?': condition\n    };\n\n    this.functions = {\n      random: random,\n      fac: factorial,\n      min: min,\n      max: max,\n      hypot: Math.hypot || hypot,\n      pyt: Math.hypot || hypot, // backward compat\n      pow: Math.pow,\n      atan2: Math.atan2,\n      'if': condition,\n      gamma: gamma,\n      roundTo: roundTo,\n      map: arrayMap,\n      fold: arrayFold,\n      filter: arrayFilter,\n      indexOf: stringOrArrayIndexOf,\n      join: arrayJoin\n    };\n\n    this.consts = {\n      E: Math.E,\n      PI: Math.PI,\n      'true': true,\n      'false': false\n    };\n  }\n\n  Parser.prototype.parse = function (expr) {\n    var instr = [];\n    var parserState = new ParserState(\n      this,\n      new TokenStream(this, expr),\n      { allowMemberAccess: this.options.allowMemberAccess }\n    );\n\n    parserState.parseExpression(instr);\n    parserState.expect(TEOF, 'EOF');\n\n    return new Expression(instr, this);\n  };\n\n  Parser.prototype.evaluate = function (expr, variables) {\n    return this.parse(expr).evaluate(variables);\n  };\n\n  var sharedParser = new Parser();\n\n  Parser.parse = function (expr) {\n    return sharedParser.parse(expr);\n  };\n\n  Parser.evaluate = function (expr, variables) {\n    return sharedParser.parse(expr).evaluate(variables);\n  };\n\n  var optionNameMap = {\n    '+': 'add',\n    '-': 'subtract',\n    '*': 'multiply',\n    '/': 'divide',\n    '%': 'remainder',\n    '^': 'power',\n    '!': 'factorial',\n    '<': 'comparison',\n    '>': 'comparison',\n    '<=': 'comparison',\n    '>=': 'comparison',\n    '==': 'comparison',\n    '!=': 'comparison',\n    '||': 'concatenate',\n    'and': 'logical',\n    'or': 'logical',\n    'not': 'logical',\n    '?': 'conditional',\n    ':': 'conditional',\n    '=': 'assignment',\n    '[': 'array',\n    '()=': 'fndef'\n  };\n\n  function getOptionName(op) {\n    return optionNameMap.hasOwnProperty(op) ? optionNameMap[op] : op;\n  }\n\n  Parser.prototype.isOperatorEnabled = function (op) {\n    var optionName = getOptionName(op);\n    var operators = this.options.operators || {};\n\n    return !(optionName in operators) || !!operators[optionName];\n  };\n\n  /*!\n   Based on ndef.parser, by Raphael Graf(r@undefined.ch)\n   http://www.undefined.ch/mparser/index.html\n\n   Ported to JavaScript and modified by Matthew Crumley (email@matthewcrumley.com, http://silentmatt.com/)\n\n   You are free to use and modify this code in anyway you find useful. Please leave this comment in the code\n   to acknowledge its original source. If you feel like it, I enjoy hearing about projects that use my code,\n   but don't feel like you have to let me know or ask permission.\n  */\n\n  // Backwards compatibility\n  var index = {\n    Parser: Parser,\n    Expression: Expression\n  };\n\n  exports.Expression = Expression;\n  exports.Parser = Parser;\n  exports.default = index;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n", "'use strict';\n\ninterface ExpressionEvaluatorOptions {\n  allowedVariables?: string[];\n}\n\ninterface ParserExpression {\n  variables(options?: { withMembers?: boolean }): string[];\n  evaluate(context?: Record<string, unknown>): unknown;\n}\n\ninterface ParserInstance {\n  parse(expression: string): ParserExpression;\n}\n\ninterface ParserConstructor {\n  new (options?: unknown): ParserInstance;\n}\n\ninterface ExpressionCacheEntry {\n  expression: string;\n  compiled: ParserExpression;\n  variables: string[];\n  disallowedVariables: string[];\n}\n\ninterface ValidationResult {\n  ok: boolean;\n  error?: string;\n  variables?: string[];\n}\n\ninterface ExpressionEvaluatorExports {\n  createEvaluator(options?: ExpressionEvaluatorOptions): ExpressionEvaluator;\n  ExpressionEvaluator: typeof ExpressionEvaluator;\n  normalizeNumericValue(value: unknown): number;\n  buildBaseContext(values: Record<string, unknown> | null | undefined): Record<string, unknown>;\n  buildContext(\n    values: Record<string, unknown> | null | undefined,\n    overrides?: Record<string, unknown> | null\n  ): Record<string, unknown>;\n  allowedVariables: string[];\n}\n\nclass ExpressionEvaluator {\n  public readonly allowedVariables: string[];\n  private readonly parser: ParserInstance;\n  private cache: Record<string, ExpressionCacheEntry>;\n\n  constructor(options?: ExpressionEvaluatorOptions, ParserCtor?: ParserConstructor) {\n    const evaluatorOptions = options || {};\n    const allowed =\n      Array.isArray(evaluatorOptions.allowedVariables) && evaluatorOptions.allowedVariables.length > 0\n        ? evaluatorOptions.allowedVariables.slice()\n        : DEFAULT_ALLOWED_VARIABLES.slice();\n\n    this.allowedVariables = allowed;\n    const ParserFactory = ParserCtor || getDefaultParser();\n    this.parser = new ParserFactory({\n      operators: {\n        add: true,\n        subtract: true,\n        multiply: true,\n        divide: true,\n        remainder: true,\n        power: false,\n        factorial: false,\n        comparison: true,\n        logical: true,\n        conditional: true,\n        concatenate: false,\n        assignment: false,\n        array: false,\n        fndef: false\n      },\n      allowMemberAccess: false\n    });\n    this.cache = {};\n  }\n\n  validate(expression: unknown): ValidationResult {\n    let entry: ExpressionCacheEntry | null;\n    try {\n      entry = this.getCacheEntry(expression);\n    } catch (err) {\n      const error = err instanceof Error ? err.message : 'Invalid expression';\n      return {\n        ok: false,\n        error\n      };\n    }\n\n    if (!entry) {\n      return {\n        ok: false,\n        error: 'Expression cannot be empty'\n      };\n    }\n\n    if (entry.disallowedVariables.length > 0) {\n      return {\n        ok: false,\n        error:\n          'Unknown variables: ' +\n          entry.disallowedVariables.join(', ') +\n          '. Allowed variables: ' +\n          this.allowedVariables.join(', ')\n      };\n    }\n\n    return {\n      ok: true,\n      variables: entry.variables.slice()\n    };\n  }\n\n  evaluate(expression: unknown, variables?: Record<string, unknown> | null): unknown {\n    const entry = this.getCacheEntry(expression);\n    if (!entry) {\n      throw new Error('Expression cannot be empty');\n    }\n\n    if (entry.disallowedVariables.length > 0) {\n      throw new Error(\n        'Unknown variables: ' +\n          entry.disallowedVariables.join(', ') +\n          '. Allowed variables: ' +\n          this.allowedVariables.join(', ')\n      );\n    }\n\n    const sanitized: Record<string, unknown> = {};\n    const source = variables || {};\n    for (const name of this.allowedVariables) {\n      const rawValue = Object.prototype.hasOwnProperty.call(source, name)\n        ? (source as Record<string, unknown>)[name]\n        : undefined;\n\n      if (DEFAULT_ALLOWED_VARIABLES.indexOf(name) !== -1) {\n        sanitized[name] = normalizeNumericValue(rawValue);\n        continue;\n      }\n\n      if (typeof rawValue === 'number') {\n        sanitized[name] = Number.isFinite(rawValue) ? rawValue : 0;\n      } else if (typeof rawValue === 'boolean' || typeof rawValue === 'string') {\n        sanitized[name] = rawValue;\n      } else if (rawValue === undefined || rawValue === null) {\n        sanitized[name] = 0;\n      } else {\n        sanitized[name] = rawValue;\n      }\n    }\n\n    return entry.compiled.evaluate(sanitized);\n  }\n\n  clearCache(): void {\n    this.cache = {};\n  }\n\n  private getCacheEntry(expression: unknown): ExpressionCacheEntry | null {\n    const normalized = this.normalizeExpression(expression);\n    if (!normalized) {\n      return null;\n    }\n\n    if (this.cache[normalized]) {\n      return this.cache[normalized];\n    }\n\n    let compiled: ParserExpression;\n    try {\n      compiled = this.parser.parse(normalized);\n    } catch (err) {\n      throw this.wrapParseError(err);\n    }\n\n    const variables = compiled.variables({ withMembers: false }) || [];\n    const disallowed = variables.filter((variableName) => this.allowedVariables.indexOf(variableName) === -1);\n\n    const entry: ExpressionCacheEntry = {\n      expression: normalized,\n      compiled,\n      variables: variables.slice(),\n      disallowedVariables: disallowed.slice()\n    };\n    this.cache[normalized] = entry;\n    return entry;\n  }\n\n  private normalizeExpression(expression: unknown): string {\n    if (typeof expression !== 'string') {\n      return '';\n    }\n    return expression.trim();\n  }\n\n  private wrapParseError(error: unknown): Error {\n    const message =\n      error && typeof error === 'object' && error instanceof Error && error.message\n        ? enhanceErrorMessage(error.message)\n        : 'Invalid expression';\n    const wrappedError = new Error(message);\n    if (error && typeof error === 'object') {\n      (wrappedError as Error & { originalError?: unknown }).originalError = error;\n    }\n    return wrappedError;\n  }\n}\n\nconst DEFAULT_ALLOWED_VARIABLES = ['value', 'high', 'low', 'changeDaily', 'changeDailyPercent', 'volume'];\n\nfunction cloneArray<T>(source: T[] | null | undefined): T[] {\n  return source ? source.slice() : [];\n}\n\n// Providers sometimes send strings/null; coerce to safe numbers so expressions never throw.\nfunction normalizeNumericValue(value: unknown): number {\n  if (value === undefined || value === null) {\n    return 0;\n  }\n\n  if (typeof value === 'number') {\n    if (!Number.isFinite(value)) {\n      return 0;\n    }\n    return value;\n  }\n\n  if (typeof value === 'string' && value.trim() !== '') {\n    const parsed = Number(value);\n    if (!Number.isNaN(parsed) && Number.isFinite(parsed)) {\n      return parsed;\n    }\n  }\n\n  return 0;\n}\n\n// Canonical expression variable map keeps alerts and color rules in sync across action + PI.\nfunction buildBaseContext(values: Record<string, unknown> | null | undefined): Record<string, unknown> {\n  const source = values || {};\n  return {\n    value: normalizeNumericValue(source.last),\n    high: normalizeNumericValue(source.high),\n    low: normalizeNumericValue(source.low),\n    changeDaily: normalizeNumericValue(source.changeDaily),\n    changeDailyPercent: normalizeNumericValue(source.changeDailyPercent),\n    volume: normalizeNumericValue(source.volume)\n  };\n}\n\nfunction buildContext(\n  values: Record<string, unknown> | null | undefined,\n  overrides?: Record<string, unknown> | null\n): Record<string, unknown> {\n  const context = buildBaseContext(values);\n  if (overrides && typeof overrides === 'object') {\n    for (const key in overrides) {\n      if (Object.prototype.hasOwnProperty.call(overrides, key)) {\n        context[key] = overrides[key];\n      }\n    }\n  }\n\n  return context;\n}\n\nfunction enhanceErrorMessage(message: string): string {\n  if (!message) {\n    return 'Invalid expression';\n  }\n\n  if (message.indexOf('member access is not permitted') >= 0) {\n    return (\n      message + '. Remove object-style prefixes (for example use \"value\" instead of \"values.last\").'\n    );\n  }\n\n  return message;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction createEvaluator(options?: ExpressionEvaluatorOptions): ExpressionEvaluator {\n  return new ExpressionEvaluator(options);\n}\n\nfunction getDefaultParser(): ParserConstructor {\n  if (typeof require === 'function') {\n    try {\n      // eslint-disable-next-line @typescript-eslint/no-var-requires\n      const exprEval = require('expr-eval');\n      if (exprEval && exprEval.Parser) {\n        return exprEval.Parser as ParserConstructor;\n      }\n    } catch (err) {\n      // ignore, fall back to global\n    }\n  }\n\n  const root = typeof globalThis !== 'undefined' ? (globalThis as unknown as Record<string, unknown>) : {};\n  const parserFromGlobal = root.exprEval && (root.exprEval as Record<string, unknown>).Parser;\n  if (parserFromGlobal) {\n    return parserFromGlobal as ParserConstructor;\n  }\n\n  throw new Error('expr-eval dependency is missing');\n}\n\n(function loadExpressionEvaluator(root: Record<string, unknown> | undefined, factory: (Parser: ParserConstructor) => ExpressionEvaluatorExports) {\n  const parserCtor = getDefaultParser();\n  const exports = factory(parserCtor);\n  if (typeof module === 'object' && module.exports) {\n    module.exports = exports;\n  }\n  if (root && typeof root === 'object') {\n    (root as ExpressionEvaluatorGlobalRoot).CryptoTickerExpressionEvaluator = exports;\n  }\n})(typeof self !== 'undefined' ? (self as unknown as Record<string, unknown>) : (this as unknown as Record<string, unknown>), function buildExports(\n  Parser\n): ExpressionEvaluatorExports {\n  return {\n    createEvaluator: (options?: ExpressionEvaluatorOptions) => new ExpressionEvaluator(options, Parser),\n    ExpressionEvaluator,\n    normalizeNumericValue,\n    buildBaseContext,\n    buildContext,\n    allowedVariables: cloneArray(DEFAULT_ALLOWED_VARIABLES)\n  };\n});\n\ninterface ExpressionEvaluatorGlobalRoot extends Record<string, unknown> {\n  CryptoTickerExpressionEvaluator?: ExpressionEvaluatorExports;\n}\n", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n// @ts-nocheck\n(function (root) {\n    const namespace = root.CryptoTickerPIProviders = root.CryptoTickerPIProviders || {};\n    const providers = namespace._providers = namespace._providers || {};\n\n    namespace.registerProvider = function (provider) {\n        if (!provider || typeof provider.id !== \"string\") {\n            return;\n        }\n\n        providers[provider.id.toUpperCase()] = provider;\n    };\n\n    namespace.getProvider = function (providerId) {\n        if (typeof providerId !== \"string\") {\n            return null;\n        }\n\n        return providers[providerId.toUpperCase()] || null;\n    };\n\n    namespace.listProviders = function () {\n        return Object.keys(providers);\n    };\n}(typeof self !== \"undefined\" ? self : this));\n", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n// @ts-nocheck\n(function (root, factory) {\n    const globalRoot = typeof globalThis !== \"undefined\" ? globalThis : root;\n    const namespace = (globalRoot && (globalRoot as Record<string, unknown>).CryptoTickerPIProviders)\n        ? (globalRoot as Record<string, unknown>).CryptoTickerPIProviders as CryptoTickerPIProvidersNamespace\n        : null;\n\n    const provider = factory();\n\n    if (typeof module === \"object\" && module.exports) {\n        module.exports = provider;\n    }\n\n    if (namespace && typeof namespace.registerProvider === \"function\") {\n        namespace.registerProvider(provider);\n    }\n}(typeof self !== \"undefined\" ? self : this, function () {\n    const API_URL = \"https://api.binance.com/api/v3/exchangeInfo\";\n\n    async function getPairs() {\n        const response = await fetch(API_URL);\n        const json = await response.json();\n        const symbols = Array.isArray(json.symbols) ? json.symbols : [];\n\n        return symbols\n            // Filter out delisted/maintenance symbols so the PI only lists live markets.\n            .filter(function (item) {\n                if (!item) {\n                    return false;\n                }\n\n                if (item.status && item.status !== \"TRADING\") {\n                    return false;\n                }\n\n                const symbol = item.symbol || \"\";\n                return symbol.length > 0;\n            })\n            .map(function (item) {\n                const symbol = (item.symbol || \"\").toUpperCase();\n                return {\n                    value: symbol,\n                    display: symbol,\n                    symbol: symbol\n                };\n            });\n    }\n\n    return {\n        id: \"BINANCE\",\n        getPairs: getPairs\n    };\n}));\n\ninterface CryptoTickerPIProvidersNamespace {\n    registerProvider?: (provider: { id: string }) => void;\n}\n", "/* eslint-disable @typescript-eslint/ban-ts-comment */\n// @ts-nocheck\n(function (root, factory) {\n    const globalRoot = typeof globalThis !== \"undefined\" ? globalThis : root;\n    const namespace = (globalRoot && (globalRoot as Record<string, unknown>).CryptoTickerPIProviders)\n        ? (globalRoot as Record<string, unknown>).CryptoTickerPIProviders as CryptoTickerPIProvidersNamespace\n        : null;\n\n    const provider = factory();\n\n    if (typeof module === \"object\" && module.exports) {\n        module.exports = provider;\n    }\n\n    if (namespace && typeof namespace.registerProvider === \"function\") {\n        namespace.registerProvider(provider);\n    }\n}(typeof self !== \"undefined\" ? self : this, function () {\n    const API_URL = \"https://api-pub.bitfinex.com/v2/conf/pub:list:pair:exchange\";\n\n    async function getPairs() {\n        const response = await fetch(API_URL);\n        const json = await response.json();\n        const list = Array.isArray(json) && Array.isArray(json[0]) ? json[0] : [];\n\n        return list.map(function (value) {\n            const display = (value || \"\").toUpperCase();\n            // Strip punctuation (e.g., \":\") so subscription keys match provider expectations.\n            const sanitized = display.replace(/[:/]/g, \"\");\n            return {\n                value: display,\n                display: display,\n                symbol: sanitized\n            };\n        });\n    }\n\n    return {\n        id: \"BITFINEX\",\n        getPairs: getPairs\n    };\n}));\n\ninterface CryptoTickerPIProvidersNamespace {\n    registerProvider?: (provider: { id: string }) => void;\n}\n", "import '../config';\nimport '../providers/connection-states';\nimport '../default-settings';\nimport '../expression-evaluator';\nimport '../pi/providers/index';\nimport '../pi/providers/binance';\nimport '../pi/providers/bitfinex';\nimport '../pi';\n\nexport {};\n", "/* eslint-disable @typescript-eslint/ban-ts-comment, no-var, @typescript-eslint/no-this-alias */\n// @ts-nocheck\n// Global Stream Deck websocket plus plugin metadata snapshot.\n/* global CryptoTickerExpressionEvaluator, CryptoTickerConnectionStates, CryptoTickerConnectionStatusIcons */\n/* exported connectElgatoStreamDeckSocket */\n\nvar websocket = null,\n    uuid = null,\n    actionInfo = {};\n\r\n\r\nconst expressionEvaluatorModule = typeof CryptoTickerExpressionEvaluator !== \"undefined\" ? CryptoTickerExpressionEvaluator : null;\nconst connectionStatesModule = typeof CryptoTickerConnectionStates !== \"undefined\" ? CryptoTickerConnectionStates : {\n    LIVE: \"live\",\n    DETACHED: \"detached\",\n    BACKUP: \"backup\",\n    BROKEN: \"broken\"\n};\nconst connectionStatusIconsModule = typeof CryptoTickerConnectionStatusIcons !== \"undefined\" ? CryptoTickerConnectionStatusIcons : null;\n\r\n// Separate evaluator instances so alert + color allowlists stay isolated.\r\nconst expressionEvaluatorInstances = (function() {\r\n    if (!expressionEvaluatorModule) {\r\n        return {\r\n            alert: null,\r\n            color: null\r\n        };\r\n    }\r\n\r\n    const baseAllowed = expressionEvaluatorModule.allowedVariables ? expressionEvaluatorModule.allowedVariables.slice(0) : [];\r\n    const colorAllowed = baseAllowed.slice(0);\r\n    const extraColorVariables = [\r\n        \"alert\",\r\n        \"backgroundColor\",\r\n        \"textColor\",\r\n        \"defaultBackgroundColor\",\r\n        \"defaultTextColor\"\r\n    ];\r\n\r\n    for (let i = 0; i < extraColorVariables.length; i++) {\r\n        if (colorAllowed.indexOf(extraColorVariables[i]) === -1) {\r\n            colorAllowed.push(extraColorVariables[i]);\r\n        }\r\n    }\r\n\r\n    return {\r\n        alert: expressionEvaluatorModule.createEvaluator(),\r\n        color: expressionEvaluatorModule.createEvaluator({\r\n            allowedVariables: colorAllowed\r\n        })\r\n    };\r\n}());\r\n\r\nconst EXPRESSION_SAMPLE_VALUES = {\r\n    last: 100,\r\n    high: 120,\r\n    low: 80,\r\n    changeDaily: 2,\r\n    changeDailyPercent: 0.02,\r\n    volume: 100000\r\n};\r\n\r\nconst EXPRESSION_SAMPLE_COLOR_OVERRIDES = {\r\n    alert: false,\r\n    backgroundColor: \"#000000\",\r\n    textColor: \"#ffffff\",\r\n    defaultBackgroundColor: \"#000000\",\r\n    defaultTextColor: \"#ffffff\"\r\n};\r\n\r\nfunction buildSampleAlertContext() {\r\n    if (!expressionEvaluatorModule) {\r\n        return {};\r\n    }\r\n    return expressionEvaluatorModule.buildBaseContext(EXPRESSION_SAMPLE_VALUES);\r\n}\r\n\r\nfunction buildSampleColorContext() {\r\n    if (!expressionEvaluatorModule) {\r\n        return {};\r\n    }\r\n    return expressionEvaluatorModule.buildContext(\r\n        EXPRESSION_SAMPLE_VALUES,\r\n        Object.assign({}, EXPRESSION_SAMPLE_COLOR_OVERRIDES)\r\n    );\r\n}\r\n\r\nconst expressionValidationTargets = [\r\n    {\r\n        key: \"alertRule\",\r\n        evaluator: expressionEvaluatorInstances.alert,\r\n        contextBuilder: buildSampleAlertContext\r\n    },\r\n    {\r\n        key: \"backgroundColorRule\",\r\n        evaluator: expressionEvaluatorInstances.color,\r\n        contextBuilder: buildSampleColorContext\r\n    },\r\n    {\r\n        key: \"textColorRule\",\r\n        evaluator: expressionEvaluatorInstances.color,\r\n        contextBuilder: buildSampleColorContext\r\n    }\r\n];\r\n\r\n\r\nconst tProxyBase = \"https://tproxyv8.opendle.com\";\n// const tProxyBase = \"https://localhost:44330\";\nconst tProxyBaseNormalized = typeof tProxyBase === \"string\" ? tProxyBase.replace(/\\/$/, \"\") : \"\";\nconst TPROXY_CACHE_BYPASS_PARAM = \"_ctBust\";\n\n// Append a timestamp query so the browser cannot satisfy tproxy fetches from cache.\nfunction appendCacheBypassParam(url) {\n    if (!url || typeof url !== \"string\") {\n        return url;\n    }\n\n    try {\n        const parsed = new URL(url);\n        parsed.searchParams.set(TPROXY_CACHE_BYPASS_PARAM, Date.now().toString());\n        return parsed.toString();\n    } catch (err) {\n        const separator = url.indexOf(\"?\") === -1 ? \"?\" : \"&\";\n        return url + separator + TPROXY_CACHE_BYPASS_PARAM + \"=\" + Date.now();\n    }\n}\n\n// Augment fetch init for tproxy requests with cache-busting headers/settings.\nfunction applyTProxyCacheBypass(url, baseOptions) {\n    if (!url || typeof url !== \"string\") {\n        return {\n            url: url,\n            options: baseOptions\n        };\n    }\n\n    const normalizedUrl = url.replace(/\\/$/, \"\");\n    if (!tProxyBaseNormalized || normalizedUrl.indexOf(tProxyBaseNormalized) !== 0) {\n        return {\n            url: url,\n            options: baseOptions\n        };\n    }\n\n    const options = Object.assign({}, baseOptions || {});\n    options.cache = \"no-store\";\n\n    const headers = Object.assign({}, options.headers || {});\n    headers[\"cache-control\"] = \"no-cache\";\n    headers[\"pragma\"] = \"no-cache\";\n    options.headers = headers;\n\n    return {\n        url: appendCacheBypassParam(url),\n        options: options\n    };\n}\n\r\nconst loggingEnabled = false;\r\nconst selectPairDropdown = document.getElementById(\"select-pair-dropdown\");\r\nconst pairSearchInput = document.getElementById(\"select-pair-search\");\r\nconst pairSearchFeedback = document.getElementById(\"pair-search-feedback\");\r\nconst FETCH_TIMEOUT_MS = 10000;\r\nconst FETCH_MAX_ATTEMPTS = 3;\r\nconst RETRY_BASE_DELAY_MS = 600;\r\nconst MAX_RETRY_DELAY_MS = 5000;\r\n\r\nfunction wait(ms) {\r\n    return new Promise(function(resolve) {\r\n        setTimeout(resolve, ms);\r\n    });\r\n}\r\n\r\nfunction safeInvokeRetryCallback(callback, payload, label) {\r\n    if (typeof callback !== \"function\") {\r\n        return;\r\n    }\r\n    try {\r\n        callback(payload);\r\n    } catch (callbackErr) {\r\n        console.error(\"fetchJsonWithRetry \" + label + \" failed\", callbackErr);\r\n    }\r\n}\r\n\r\nfunction createAbortControllerWithTimeout(timeout) {\r\n    if (typeof AbortController === \"undefined\") {\r\n        return {\r\n            controller: null,\r\n            timerId: null\r\n        };\r\n    }\r\n\r\n    const controller = new AbortController();\r\n    const timerId = setTimeout(function() {\r\n        controller.abort();\r\n    }, timeout);\r\n\r\n    return {\r\n        controller: controller,\r\n        timerId: timerId\r\n    };\r\n}\r\n\r\nfunction clearAbortTimer(timerId) {\r\n    if (timerId) {\r\n        clearTimeout(timerId);\r\n    }\r\n}\r\n\r\n/**\r\n * Fetch JSON from `url`, honoring optional abort controller/config.\r\n *\r\n * @param {string} url Target URL.\r\n * @param {AbortController|null} controller Abort hook or null.\r\n * @param {Object} [baseFetchOptions] Extra fetch options.\r\n * @returns {Promise<Object>} Parsed JSON payload.\r\n * @throws {Error} When the response is not OK or fetch rejects.\r\n */\r\nasync function performJsonFetch(url, controller, baseFetchOptions) {\r\n    const fetchOptions = Object.assign({}, baseFetchOptions || {});\r\n    if (controller) {\r\n        fetchOptions.signal = controller.signal;\r\n    }\r\n    const proxySafeRequest = applyTProxyCacheBypass(url, fetchOptions);\n    const response = await fetch(proxySafeRequest.url, proxySafeRequest.options);\n    if (!response.ok) {\n        throw new Error(\"Request failed with status \" + response.status);\n    }\n\n    const raw = await response.text();\n    if (!raw || raw.trim().length === 0) {\n        return [];\n    }\n\n    try {\n        return JSON.parse(raw);\n    } catch (err) {\n        const parseError = err instanceof Error ? err : new Error(String(err));\n        parseError.message = \"Failed to parse JSON response from \" + url + \": \" + parseError.message;\n        throw parseError;\n    }\n}\n\r\nfunction formatCacheTimestamp(timestamp) {\r\n    if (!timestamp) {\r\n        return \"\";\r\n    }\r\n    try {\r\n        return new Date(timestamp).toLocaleString();\r\n    } catch (err) {\r\n        return new Date(timestamp).toString();\r\n    }\r\n}\r\n\r\nfunction buildStaleDataMessage(timestamp) {\r\n    const formatted = formatCacheTimestamp(timestamp);\r\n    if (!formatted) {\r\n        return \"Showing cached data. Data may be outdated.\";\r\n    }\r\n    return \"Showing cached data from \" + formatted + \". Data may be outdated.\";\r\n}\r\n\r\n// Centralize dropdown loading/warning UX for providers/pairs/currencies so fetch code stays lean.\r\nconst networkStatusManager = (function() {\r\n    const config = {\r\n        providers: {\r\n            selectId: \"select-provider\",\r\n            loadingMessage: \"Loading providers...\",\r\n            retryMessage: \"Failed to load providers. Retrying...\"\r\n        },\r\n        pairs: {\r\n            selectId: \"select-pair-dropdown\",\r\n            extraDisableIds: [\"select-pair-search\"],\r\n            loadingMessage: \"Loading pairs...\",\r\n            retryMessage: \"Failed to load pairs. Retrying...\"\r\n        },\r\n        currencies: {\r\n            selectId: \"select-currency\",\r\n            loadingMessage: \"Loading currencies...\",\r\n            retryMessage: \"Failed to load currencies. Retrying...\"\r\n        }\r\n    };\r\n    const state = {};\r\n\r\n    function ensure(key) {\r\n        if (state[key]) {\r\n            return state[key];\r\n        }\r\n        const conf = config[key];\r\n        if (!conf) {\r\n            return null;\r\n        }\r\n        const select = document.getElementById(conf.selectId);\r\n        if (!select || !select.parentNode) {\r\n            return null;\r\n        }\r\n\r\n        const extraDisableElements = [];\r\n        if (Array.isArray(conf.extraDisableIds)) {\r\n            conf.extraDisableIds.forEach(function(extraId) {\r\n                const extraElement = document.getElementById(extraId);\r\n                if (extraElement) {\r\n                    extraDisableElements.push(extraElement);\r\n                }\r\n            });\r\n        }\r\n\r\n        const status = document.createElement(\"div\");\r\n        status.className = \"pi-network-status\";\r\n        status.setAttribute(\"role\", \"status\");\r\n        status.style.display = \"none\";\r\n\r\n        const spinner = document.createElement(\"span\");\r\n        spinner.className = \"pi-network-status__spinner\";\r\n        status.appendChild(spinner);\r\n\r\n        const text = document.createElement(\"span\");\r\n        text.className = \"pi-network-status__text\";\r\n        status.appendChild(text);\r\n\r\n        const retry = document.createElement(\"button\");\r\n        retry.type = \"button\";\r\n        retry.className = \"pi-network-status__retry\";\r\n        retry.textContent = \"Retry\";\r\n        retry.style.display = \"none\";\r\n        status.appendChild(retry);\r\n\r\n        select.parentNode.appendChild(status);\r\n\r\n        const warning = document.createElement(\"div\");\r\n        warning.className = \"pi-network-status__warning\";\r\n        warning.style.display = \"none\";\r\n        select.parentNode.appendChild(warning);\r\n\r\n        state[key] = {\r\n            select: select,\r\n            status: status,\r\n            spinner: spinner,\r\n            text: text,\r\n            retry: retry,\r\n            warning: warning,\r\n            extraDisableElements: extraDisableElements\r\n        };\r\n\r\n        return state[key];\r\n    }\r\n\r\n    function setState(key, options) {\r\n        const entry = ensure(key);\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        const opts = options || {};\r\n        entry.status.style.display = opts.message ? \"\" : \"none\";\r\n        entry.text.textContent = opts.message || \"\";\r\n        entry.spinner.style.display = opts.spinner ? \"\" : \"none\";\r\n        entry.retry.style.display = opts.showRetry ? \"\" : \"none\";\r\n        entry.retry.onclick = typeof opts.onRetry === \"function\" ? opts.onRetry : null;\r\n\r\n        entry.status.classList.remove(\"is-error\", \"is-warning\", \"is-success\");\r\n        if (opts.tone === \"error\") {\r\n            entry.status.classList.add(\"is-error\");\r\n        } else if (opts.tone === \"warning\") {\r\n            entry.status.classList.add(\"is-warning\");\r\n        } else if (opts.tone === \"success\") {\r\n            entry.status.classList.add(\"is-success\");\r\n        }\r\n\r\n        if (entry.select) {\r\n            entry.select.disabled = !!opts.disableSelect;\r\n        }\r\n        if (entry.extraDisableElements && entry.extraDisableElements.length) {\r\n            for (let i = 0; i < entry.extraDisableElements.length; i++) {\r\n                const target = entry.extraDisableElements[i];\r\n                if (target) {\r\n                    target.disabled = !!opts.disableSelect;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function showWarning(key, message) {\r\n        const entry = ensure(key);\r\n        if (!entry) {\r\n            return;\r\n        }\r\n        const msg = message || \"\";\r\n        entry.warning.style.display = msg ? \"\" : \"none\";\r\n        entry.warning.textContent = msg;\r\n    }\r\n\r\n    function clear(key) {\r\n        setState(key, {});\r\n        showWarning(key, \"\");\r\n        const entry = state[key];\r\n        if (entry && entry.select) {\r\n            entry.select.disabled = false;\r\n        }\r\n    }\r\n\r\n    return {\r\n        ensure: ensure,\r\n        setState: setState,\r\n        showWarning: showWarning,\r\n        clear: clear,\r\n        config: config\r\n    };\r\n}());\r\n\r\n// Generic exponential backoff helper for PI fetches; smooths proxy hiccups.\r\nasync function fetchJsonWithRetry(url, options) {\r\n    const opts = options || {};\r\n    const attempts = Math.max(1, opts.attempts || FETCH_MAX_ATTEMPTS);\r\n    const timeout = opts.timeout || FETCH_TIMEOUT_MS;\r\n    let lastError = null;\r\n\r\n    for (let attempt = 1; attempt <= attempts; attempt++) {\r\n        safeInvokeRetryCallback(opts.onAttemptStart, {\r\n            attempt: attempt,\r\n            maxAttempts: attempts\r\n        }, \"onAttemptStart\");\r\n\r\n        const abortContext = createAbortControllerWithTimeout(timeout);\r\n\r\n        try {\r\n            const fetchOptions = opts.fetchOptions || {};\r\n            const result = await performJsonFetch(url, abortContext.controller, fetchOptions);\r\n            clearAbortTimer(abortContext.timerId);\r\n            return result;\r\n        } catch (err) {\r\n            lastError = err;\r\n            clearAbortTimer(abortContext.timerId);\r\n            safeInvokeRetryCallback(opts.onAttemptError, {\r\n                attempt: attempt,\r\n                maxAttempts: attempts,\r\n                error: err\r\n            }, \"onAttemptError\");\r\n\r\n            if (attempt < attempts) {\r\n                const delayBase = opts.retryBaseDelay || RETRY_BASE_DELAY_MS;\r\n                const delay = Math.min(MAX_RETRY_DELAY_MS, delayBase * Math.pow(2, attempt - 1));\r\n                await wait(delay);\r\n            }\r\n        }\r\n    }\r\n\r\n    safeInvokeRetryCallback(opts.onFinalFailure, { error: lastError }, \"onFinalFailure\");\r\n\r\n    throw lastError || new Error(\"Request failed\");\r\n}\r\n\r\n// Normalize pair payloads into {value, symbol, display} regardless of backend format.\r\nfunction normalizePairsList(pairs) {\r\n    return (pairs || []).map(function(item) {\r\n        if (!item) {\r\n            return null;\r\n        }\r\n\r\n        if (typeof item === \"string\") {\r\n            const value = item.toUpperCase();\r\n            return {\r\n                value: value,\r\n                symbol: value.replace(/[:/]/g, \"\"),\r\n                display: value\r\n            };\r\n        }\r\n\r\n        const rawValue = item.value !== undefined ? item.value : (item.display || item.symbol || \"\");\r\n        const value = (rawValue || \"\").toUpperCase();\r\n        if (!value) {\r\n            return null;\r\n        }\r\n\r\n        const normalizedSymbol = (item.symbol || value.replace(/[:/]/g, \"\")).toUpperCase();\r\n        const display = (item.display || value).toUpperCase();\r\n\r\n        return {\r\n            value: value,\r\n            symbol: normalizedSymbol,\r\n            display: display\r\n        };\r\n    }).filter(function(item) {\r\n        return item !== null;\r\n    });\r\n}\r\nconst defaultSettingsModule = typeof CryptoTickerDefaults !== \"undefined\" ? CryptoTickerDefaults : null;\r\n\r\nfunction ensureDefaultSettingsModule() {\r\n    if (!defaultSettingsModule) {\r\n        throw new Error(\"Default settings module is not available\");\r\n    }\r\n    return defaultSettingsModule;\r\n}\r\n\r\nfunction applyDefaultSettings(partialSettings) {\r\n    const moduleRef = ensureDefaultSettingsModule();\r\n    if (typeof moduleRef.applyDefaults === \"function\") {\r\n        return moduleRef.applyDefaults(partialSettings);\r\n    }\r\n    if (moduleRef.defaultSettings) {\r\n        return Object.assign({}, moduleRef.defaultSettings, partialSettings || {});\r\n    }\r\n    return Object.assign({}, partialSettings || {});\r\n}\r\n\r\nfunction getDefaultSettingsSnapshot() {\r\n    const moduleRef = ensureDefaultSettingsModule();\r\n    if (typeof moduleRef.getDefaultSettings === \"function\") {\r\n        return moduleRef.getDefaultSettings();\r\n    }\r\n    if (moduleRef.defaultSettings) {\r\n        return JSON.parse(JSON.stringify(moduleRef.defaultSettings));\r\n    }\r\n    return {};\r\n}\r\n\r\nconst defaultSettings = getDefaultSettingsSnapshot();\r\n// Maps setting keys to DOM elements, default values, and optional getValue/setValue overrides for non-standard controls.\r\nconst settingsConfig = {\r\n    \"title\": {\r\n        \"default\": defaultSettings.title,\r\n        \"value\": document.getElementById(\"input-title\")\r\n    },\r\n    \"exchange\": {\r\n        \"default\": defaultSettings.exchange,\r\n        \"value\": document.getElementById(\"select-provider\")\r\n    },\r\n    \"pair\": {\r\n        \"default\": defaultSettings.pair,\r\n        \"value\": document.getElementById(\"select-pair\"),\r\n        \"setValue\": function(val) {\r\n            this.value.value = val;\r\n            selectPairDropdown.value = val;\r\n        }\r\n    },\r\n    \"fromCurrency\": {\r\n        \"default\": defaultSettings.fromCurrency\r\n    },\r\n    \"currency\": {\r\n        \"default\": defaultSettings.currency,\r\n        \"value\": document.getElementById(\"select-currency\")\r\n    },\r\n    \"candlesInterval\": {\r\n        \"default\": defaultSettings.candlesInterval,\r\n        \"value\": document.getElementById(\"candlesInterval\")\r\n    },\r\n    \"candlesDisplayed\": {\r\n        \"default\": defaultSettings.candlesDisplayed,\r\n        \"value\": document.getElementById(\"candlesDisplayed\")\r\n    },\r\n    \"multiplier\": {\r\n        \"default\": defaultSettings.multiplier,\r\n        \"value\": document.getElementById(\"multiplier\")\r\n    },\r\n    \"digits\": {\r\n        \"default\": defaultSettings.digits,\r\n        \"value\": document.getElementById(\"digits\")\r\n    },\r\n    \"highLowDigits\": {\r\n        \"default\": defaultSettings.highLowDigits,\r\n        \"value\": document.getElementById(\"highLowDigits\")\r\n    },\r\n    \"priceFormat\": {\r\n        \"default\": defaultSettings.priceFormat,\r\n        \"value\": document.getElementById(\"priceFormat\")\r\n    },\r\n    \"font\": {\r\n        \"default\": defaultSettings.font,\r\n        \"value\": document.getElementById(\"font\")\r\n    },\r\n    \"fontSizeBase\": {\r\n        \"default\": defaultSettings.fontSizeBase,\r\n        \"value\": document.getElementById(\"fontSizeBase\")\r\n    },\r\n    \"fontSizePrice\": {\r\n        \"default\": defaultSettings.fontSizePrice,\r\n        \"value\": document.getElementById(\"fontSizePrice\")\r\n    },\r\n    \"fontSizeHighLow\": {\r\n        \"default\": defaultSettings.fontSizeHighLow,\r\n        \"value\": document.getElementById(\"fontSizeHighLow\")\r\n    },\r\n    \"fontSizeChange\": {\r\n        \"default\": defaultSettings.fontSizeChange,\r\n        \"value\": document.getElementById(\"fontSizeChange\")\r\n    },\r\n    \"backgroundColor\": {\r\n        \"default\": defaultSettings.backgroundColor,\r\n        \"value\": document.getElementById(\"backgroundColor\")\r\n    },\r\n    \"textColor\": {\r\n        \"default\": defaultSettings.textColor,\r\n        \"value\": document.getElementById(\"textColor\")\r\n    },\r\n    \"displayHighLow\": {\r\n        \"default\": defaultSettings.displayHighLow,\r\n        \"value\": document.getElementById(\"displayHighLow\"),\r\n        \"getValue\": function() {\r\n            return this.value.checked ? \"on\" : \"off\";\r\n        },\r\n        \"setValue\": function(val) {\r\n            this.value.checked = (val !== \"off\");\r\n        }\r\n    },\r\n    \"displayHighLowBar\": {\r\n        \"default\": defaultSettings.displayHighLowBar,\r\n        \"value\": document.getElementById(\"displayHighLowBar\"),\r\n        \"getValue\": function() {\r\n            return this.value.checked ? \"on\" : \"off\";\r\n        },\r\n        \"setValue\": function(val) {\r\n            this.value.checked = (val !== \"off\");\r\n        }\r\n    },\r\n    \"displayDailyChange\": {\r\n        \"default\": defaultSettings.displayDailyChange,\r\n        \"value\": document.getElementById(\"displayDailyChange\"),\r\n        \"getValue\": function() {\r\n            return this.value.checked ? \"on\" : \"off\";\r\n        },\r\n        \"setValue\": function(val) {\r\n            this.value.checked = (val !== \"off\");\r\n        }\r\n    },\r\n    \"displayConnectionStatusIcon\": {\r\n        \"default\": defaultSettings.displayConnectionStatusIcon,\r\n        \"value\": document.getElementById(\"displayConnectionStatusIcon\"),\r\n        \"getValue\": function() {\r\n            return (this.value.value || defaultSettings.displayConnectionStatusIcon).toUpperCase();\r\n        },\r\n        \"setValue\": function(val) {\r\n            const normalized = (val || defaultSettings.displayConnectionStatusIcon).toUpperCase();\r\n            this.value.value = normalized;\r\n        }\r\n    },\r\n    \"alertRule\": {\r\n        \"default\": defaultSettings.alertRule,\r\n        \"value\": document.getElementById(\"alertRule\"),\r\n        \"errorElement\": document.getElementById(\"alertRuleError\")\r\n    },\r\n    \"backgroundColorRule\": {\r\n        \"default\": defaultSettings.backgroundColorRule,\r\n        \"value\": document.getElementById(\"backgroundColorRule\"),\r\n        \"errorElement\": document.getElementById(\"backgroundColorRuleError\")\r\n    },\r\n    \"textColorRule\": {\r\n        \"default\": defaultSettings.textColorRule,\r\n        \"value\": document.getElementById(\"textColorRule\"),\r\n        \"errorElement\": document.getElementById(\"textColorRuleError\")\r\n    },\r\n    \"mode\": {\r\n        \"default\": defaultSettings.mode\r\n    }\r\n};\r\n\r\nconst currentSettings = applyDefaultSettings({});\r\nconst cache = {};\r\n\r\nfunction getCachedEntry(cacheKey) {\r\n    const entry = cache[cacheKey];\r\n    if (!entry || typeof entry !== \"object\" || !Object.prototype.hasOwnProperty.call(entry, \"data\")) {\r\n        return null;\r\n    }\r\n    return entry;\r\n}\r\n\r\nfunction setCachedEntry(cacheKey, data) {\r\n    cache[cacheKey] = {\r\n        data: data,\r\n        timestamp: Date.now()\r\n    };\r\n    return cache[cacheKey];\r\n}\r\nlet lastDisplayedExchange = null;\r\n\r\nconst currencyRelatedElements = document.getElementsByClassName(\"currencyRelated\");\r\n\r\nfunction setCurrentSettings(values) {\r\n    const sanitized = applyDefaultSettings(values || {});\r\n    for (const key in currentSettings) {\r\n        if (Object.prototype.hasOwnProperty.call(currentSettings, key)) {\r\n            delete currentSettings[key];\r\n        }\r\n    }\r\n    Object.assign(currentSettings, sanitized);\r\n    return currentSettings;\r\n}\r\n\r\nconst pi = {\r\n    pairDropdownState: {\r\n        allPairs: [],\r\n        filteredPairs: [],\r\n        filterTerm: \"\",\r\n        provider: \"\"\r\n    },\r\n    log: function(...data) {\r\n        if (loggingEnabled) {\r\n            console.log(...data);\r\n        }\r\n    },\r\n\r\n    displayExpressionErrors: function(errors) {\r\n        const map = errors || {};\r\n        for (let i = 0; i < expressionValidationTargets.length; i++) {\r\n            const target = expressionValidationTargets[i];\r\n            const config = settingsConfig[target.key];\r\n            if (!config || !config.errorElement) {\r\n                continue;\r\n            }\r\n            const message = map[target.key] || \"\";\r\n            config.errorElement.textContent = message;\r\n            if (message) {\r\n                config.errorElement.classList.add(\"is-visible\");\r\n            } else {\r\n                config.errorElement.classList.remove(\"is-visible\");\r\n            }\r\n        }\r\n    },\r\n\r\n    // Parse + evaluate expressions against sample context; report syntax, runtime, Inf/NaN errors.\r\n    validateRuleExpressions: function(settings) {\r\n        const result = {\r\n            hasErrors: false,\r\n            errors: {}\r\n        };\r\n\r\n        for (let i = 0; i < expressionValidationTargets.length; i++) {\r\n            const target = expressionValidationTargets[i];\r\n            const expressionValue = (settings[target.key] || \"\").trim();\r\n\r\n            if (!expressionValue) {\r\n                result.errors[target.key] = \"\";\r\n                continue;\r\n            }\r\n\r\n            if (!target.evaluator || typeof target.contextBuilder !== \"function\") {\r\n                result.errors[target.key] = \"\";\r\n                continue;\r\n            }\r\n\r\n            const validation = target.evaluator.validate(expressionValue);\r\n            if (!validation.ok) {\r\n                result.errors[target.key] = validation.error;\r\n                result.hasErrors = true;\r\n                continue;\r\n            }\r\n\r\n            try {\r\n                const evaluationContext = target.contextBuilder() || {};\r\n                const evaluationResult = target.evaluator.evaluate(expressionValue, evaluationContext);\r\n                if (typeof evaluationResult === \"number\" && !isFinite(evaluationResult)) {\r\n                    result.errors[target.key] = \"Expression resulted in an invalid number. Check for division by zero.\";\r\n                    result.hasErrors = true;\r\n                } else if (typeof evaluationResult === \"number\" && isNaN(evaluationResult)) {\r\n                    result.errors[target.key] = \"Expression resulted in NaN. Verify the operators and inputs.\";\r\n                    result.hasErrors = true;\r\n                } else {\r\n                    result.errors[target.key] = \"\";\r\n                }\r\n            } catch (err) {\r\n                const message = err && err.message ? err.message : \"Invalid expression\";\r\n                result.errors[target.key] = message;\r\n                result.hasErrors = true;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    },\r\n    setPairUIVisibility: function(isVisible) {\r\n        const displayValue = isVisible ? \"\" : \"none\";\r\n        const dropdownGroup = document.getElementById(\"select-pair-dropdown-group\");\r\n        const searchGroup = document.getElementById(\"pair-search-group\");\r\n        if (dropdownGroup) {\r\n            dropdownGroup.style.display = displayValue;\r\n        }\r\n        if (searchGroup) {\r\n            searchGroup.style.display = displayValue;\r\n        }\r\n    },\r\n    resetPairDropdown: function() {\r\n        this.pairDropdownState.allPairs = [];\r\n        this.pairDropdownState.filteredPairs = [];\r\n        this.pairDropdownState.filterTerm = \"\";\r\n        this.pairDropdownState.provider = \"\";\r\n        if (selectPairDropdown) {\r\n            this.removeAllOptions(selectPairDropdown);\r\n            const emptyOption = document.createElement(\"option\");\r\n            emptyOption.text = \"\";\r\n            emptyOption.value = \"\";\r\n            selectPairDropdown.add(emptyOption);\r\n            selectPairDropdown.disabled = true;\r\n        }\r\n        if (pairSearchInput) {\r\n            pairSearchInput.value = \"\";\r\n            pairSearchInput.disabled = true;\r\n        }\r\n        this.updatePairSearchFeedback(0, \"\");\r\n        this.setPairUIVisibility(false);\r\n    },\r\n    findMatchingPairValue: function(pairs, identifier) {\r\n        if (!identifier) {\r\n            return null;\r\n        }\r\n        const normalized = identifier.toUpperCase();\r\n        const list = Array.isArray(pairs) ? pairs : [];\r\n        const match = list.find(function(pair) {\r\n            if (!pair) {\r\n                return false;\r\n            }\r\n            const value = (pair.value || \"\").toUpperCase();\r\n            const symbol = (pair.symbol || \"\").toUpperCase();\r\n            const display = (pair.display || \"\").toUpperCase();\r\n            return value === normalized || symbol === normalized || display === normalized;\r\n        });\r\n        if (match) {\r\n            return match.value || match.symbol || \"\";\r\n        }\r\n        return null;\r\n    },\r\n    renderPairDropdownOptions: function(pairs, options) {\r\n        if (!selectPairDropdown) {\r\n            return;\r\n        }\r\n\r\n        const opts = options || {};\r\n        const availablePairs = Array.isArray(pairs) ? pairs : [];\r\n        const previousValue = typeof opts.previousValue === \"string\" ? opts.previousValue : (selectPairDropdown.value || \"\");\r\n        const preferredValue = typeof opts.preferredValue === \"string\" ? opts.preferredValue : \"\";\r\n        const fallbackValue = typeof opts.fallbackValue === \"string\" ? opts.fallbackValue : \"\";\r\n        const pairConfig = settingsConfig && settingsConfig[\"pair\"] ? settingsConfig[\"pair\"] : null;\r\n        const currentPairValue = pairConfig && pairConfig.value ? pairConfig.value.value : \"\";\r\n\r\n        this.removeAllOptions(selectPairDropdown);\r\n\r\n        const emptyOption = document.createElement(\"option\");\r\n        emptyOption.text = \"\";\r\n        emptyOption.value = \"\";\r\n        selectPairDropdown.add(emptyOption);\r\n\r\n        for (let i = 0; i < availablePairs.length; i++) {\r\n            const pair = availablePairs[i];\r\n            const option = document.createElement(\"option\");\r\n            option.value = pair.value;\r\n            option.text = pair.display || pair.value;\r\n            selectPairDropdown.add(option);\r\n        }\r\n\r\n        const normalizedPreferred = this.findMatchingPairValue(availablePairs, preferredValue);\r\n        const normalizedPrevious = this.findMatchingPairValue(availablePairs, previousValue);\r\n        const normalizedCurrent = this.findMatchingPairValue(availablePairs, currentPairValue);\r\n        const normalizedFallback = this.findMatchingPairValue(availablePairs, fallbackValue);\r\n\r\n        const targetValue = normalizedPreferred || normalizedPrevious || normalizedCurrent || normalizedFallback || \"\";\r\n        if (targetValue) {\r\n            selectPairDropdown.value = targetValue;\r\n        } else {\r\n            selectPairDropdown.value = \"\";\r\n        }\r\n    },\r\n    updatePairSearchFeedback: function(matchesCount, query) {\r\n        if (!pairSearchFeedback) {\r\n            return;\r\n        }\r\n        const hasQuery = !!(query && query.trim());\r\n        if (hasQuery && matchesCount === 0) {\r\n            pairSearchFeedback.textContent = \"No matches for \\\"\" + query.trim() + \"\\\"\";\r\n            pairSearchFeedback.style.display = \"\";\r\n        } else {\r\n            pairSearchFeedback.textContent = \"\";\r\n            pairSearchFeedback.style.display = \"none\";\r\n        }\r\n    },\r\n    applyPairFilter: function(rawTerm, options) {\r\n        const term = (rawTerm || \"\").trim();\r\n        const normalizedTerm = term.toUpperCase();\r\n        const state = this.pairDropdownState;\r\n        state.filterTerm = term;\r\n\r\n        const sourcePairs = Array.isArray(state.allPairs) ? state.allPairs : [];\r\n        let filtered = sourcePairs;\r\n        if (normalizedTerm) {\r\n            filtered = sourcePairs.filter(function(pair) {\r\n                const value = (pair.value || \"\").toUpperCase();\r\n                const symbol = (pair.symbol || \"\").toUpperCase();\r\n                const display = (pair.display || \"\").toUpperCase();\r\n                return value.indexOf(normalizedTerm) !== -1 || symbol.indexOf(normalizedTerm) !== -1 || display.indexOf(normalizedTerm) !== -1;\r\n            });\r\n        }\r\n\r\n        state.filteredPairs = filtered;\r\n\r\n        const opts = options || {};\r\n        const previousValue = typeof opts.previousValue === \"string\" ? opts.previousValue : (selectPairDropdown ? selectPairDropdown.value : \"\");\r\n        const preferredValue = typeof opts.preferredValue === \"string\" ? opts.preferredValue : \"\";\r\n        const fallbackCandidate = typeof opts.fallbackValue === \"string\" ? opts.fallbackValue : (filtered[0] ? filtered[0].value : \"\");\r\n\r\n        this.renderPairDropdownOptions(filtered, {\r\n            previousValue: previousValue,\r\n            preferredValue: preferredValue,\r\n            fallbackValue: fallbackCandidate\r\n        });\r\n        this.updatePairSearchFeedback(filtered.length, term);\r\n    },\r\n    setPairDropdownData: function(provider, pairs, options) {\r\n        const normalizedPairs = Array.isArray(pairs) ? pairs.slice(0) : [];\r\n        this.pairDropdownState.allPairs = normalizedPairs;\r\n        this.pairDropdownState.provider = (provider || \"\").toUpperCase();\r\n\r\n        const opts = options || {};\r\n        const shouldResetFilter = opts.resetFilter !== false;\r\n        if (pairSearchInput) {\r\n            if (shouldResetFilter) {\r\n                pairSearchInput.value = \"\";\r\n            }\r\n            pairSearchInput.disabled = normalizedPairs.length === 0;\r\n        }\r\n\r\n        const filterTerm = shouldResetFilter ? \"\" : this.pairDropdownState.filterTerm;\r\n        this.applyPairFilter(filterTerm, {\r\n            previousValue: opts.previousValue,\r\n            preferredValue: opts.preferredValue,\r\n            fallbackValue: opts.savedValue\r\n        });\r\n    },\r\n    handlePairSearchInput: function(value) {\r\n        this.applyPairFilter(value, {\r\n            previousValue: selectPairDropdown ? selectPairDropdown.value : \"\"\r\n        });\r\n    },\r\n    handlePairSearchKeydown: function(evt) {\r\n        if (!evt) {\r\n            return;\r\n        }\r\n\r\n        if (evt.key === \"ArrowDown\" || evt.key === \"Down\") {\r\n            evt.preventDefault();\r\n            this.focusPairDropdown();\r\n            this.movePairSelection(1);\r\n        } else if (evt.key === \"ArrowUp\" || evt.key === \"Up\") {\r\n            evt.preventDefault();\r\n            this.focusPairDropdown();\r\n            this.movePairSelection(-1);\r\n        } else if (evt.key === \"Enter\") {\r\n            evt.preventDefault();\r\n            this.selectPairFromSearch();\r\n        } else if (evt.key === \"Escape\") {\r\n            if (pairSearchInput && pairSearchInput.value) {\r\n                evt.preventDefault();\r\n                pairSearchInput.value = \"\";\r\n                const pairConfig = settingsConfig && settingsConfig[\"pair\"] ? settingsConfig[\"pair\"] : null;\r\n                const currentValue = pairConfig && pairConfig.value ? pairConfig.value.value : \"\";\r\n                this.applyPairFilter(\"\", {\r\n                    previousValue: currentValue\r\n                });\r\n            }\r\n        }\r\n    },\r\n    focusPairDropdown: function() {\r\n        if (!selectPairDropdown) {\r\n            return;\r\n        }\r\n        selectPairDropdown.focus();\r\n        if (selectPairDropdown.options.length > 1 && selectPairDropdown.selectedIndex < 1) {\r\n            selectPairDropdown.selectedIndex = 1;\r\n        }\r\n    },\r\n    movePairSelection: function(offset) {\r\n        if (!selectPairDropdown) {\r\n            return;\r\n        }\r\n        const optionsLength = selectPairDropdown.options.length;\r\n        if (optionsLength <= 1) {\r\n            return;\r\n        }\r\n\r\n        let nextIndex = selectPairDropdown.selectedIndex;\r\n        if (nextIndex < 1) {\r\n            nextIndex = offset > 0 ? 1 : optionsLength - 1;\r\n        } else {\r\n            nextIndex = nextIndex + offset;\r\n            if (nextIndex < 1) {\r\n                nextIndex = optionsLength - 1;\r\n            } else if (nextIndex >= optionsLength) {\r\n                nextIndex = 1;\r\n            }\r\n        }\r\n\r\n        selectPairDropdown.selectedIndex = nextIndex;\r\n    },\r\n    selectPairFromSearch: function() {\r\n        if (!selectPairDropdown) {\r\n            return;\r\n        }\r\n\r\n        let value = selectPairDropdown.value;\r\n        if (!value && this.pairDropdownState.filteredPairs.length > 0) {\r\n            value = this.pairDropdownState.filteredPairs[0].value;\r\n        }\r\n\r\n        if (value) {\r\n            this.applyPairSelection(value);\r\n        }\r\n    },\r\n    applyPairSelection: function(value) {\r\n        if (!selectPairDropdown) {\r\n            return;\r\n        }\r\n        selectPairDropdown.value = value || \"\";\r\n        if (typeof selectPairDropdown.onchange === \"function\") {\r\n            selectPairDropdown.onchange();\r\n        }\r\n    },\r\n    syncPairSelectionDisplay: function() {\r\n        if (!selectPairDropdown) {\r\n            return;\r\n        }\r\n        const pairConfig = settingsConfig && settingsConfig[\"pair\"] ? settingsConfig[\"pair\"] : null;\r\n        const currentValue = pairConfig && pairConfig.value ? pairConfig.value.value : \"\";\r\n        if (!currentValue) {\r\n            selectPairDropdown.value = \"\";\r\n            return;\r\n        }\r\n\r\n        const available = this.pairDropdownState.filteredPairs.length > 0 ? this.pairDropdownState.filteredPairs : this.pairDropdownState.allPairs;\r\n        const matchValue = this.findMatchingPairValue(available, currentValue) || currentValue;\r\n        selectPairDropdown.value = matchValue;\r\n    },\r\n\r\n    setupNetworkStatusElements: function() {\r\n        if (this.networkStatusInitialized) {\r\n            return;\r\n        }\r\n\r\n        networkStatusManager.ensure(\"providers\");\r\n        networkStatusManager.ensure(\"pairs\");\r\n        networkStatusManager.ensure(\"currencies\");\r\n\r\n        const self = this;\r\n        this.retryCallbacks = {\r\n            providers: async function() {\r\n                await self.populateProvidersDropdown(true);\r\n                const exchangeDropdown = settingsConfig[\"exchange\"][\"value\"];\r\n                const provider = exchangeDropdown ? exchangeDropdown.value : \"\";\r\n                if (provider) {\r\n                    await self.populatePairsDropdown(provider, { forceRefresh: true });\r\n                }\r\n            },\r\n            pairs: async function() {\r\n                const exchangeDropdown = settingsConfig[\"exchange\"][\"value\"];\r\n                const provider = exchangeDropdown ? exchangeDropdown.value : \"\";\r\n                if (provider) {\r\n                    await self.populatePairsDropdown(provider, { forceRefresh: true });\r\n                }\r\n            },\r\n            currencies: async function() {\r\n                await self.populateCurrenciesDropdown(true);\r\n            }\r\n        };\r\n\r\n        this.networkStatusInitialized = true;\r\n    },\r\n\r\n    populateProvidersDropdown: async function(forceRefresh) {\r\n        const exchangeDropdown = settingsConfig[\"exchange\"][\"value\"];\r\n        if (!exchangeDropdown) {\r\n            return [];\r\n        }\r\n\r\n        const previousValue = exchangeDropdown.value;\r\n        const providers = await this.getProviders({\r\n            forceRefresh: !!forceRefresh\r\n        });\r\n        const list = Array.isArray(providers) ? providers.slice(0) : [];\r\n\r\n        this.removeAllOptions(exchangeDropdown);\r\n\r\n        list.sort();\r\n        list.forEach(function(provider) {\r\n            const option = document.createElement(\"option\");\r\n            option.text = provider;\r\n            option.value = provider;\r\n            exchangeDropdown.add(option);\r\n        });\r\n\r\n        const savedExchange = currentSettings[\"exchange\"] || settingsConfig[\"exchange\"][\"default\"] || \"\";\r\n        const preferred = previousValue || savedExchange;\r\n\r\n        if (preferred && list.indexOf(preferred) !== -1) {\r\n            exchangeDropdown.value = preferred;\r\n        } else if (savedExchange && list.indexOf(savedExchange) !== -1) {\r\n            exchangeDropdown.value = savedExchange;\r\n        } else if (list.length > 0) {\r\n            exchangeDropdown.value = list[0];\r\n        } else {\r\n            exchangeDropdown.value = \"\";\r\n        }\r\n\r\n        exchangeDropdown.disabled = list.length === 0;\r\n        return list;\r\n    },\r\n\r\n    populatePairsDropdown: async function(provider, options) {\r\n        const opts = options || {};\r\n        const exchangeDropdown = settingsConfig[\"exchange\"][\"value\"];\r\n        const currentProvider = provider || (exchangeDropdown ? exchangeDropdown.value : \"\");\r\n        if (!currentProvider) {\r\n            this.resetPairDropdown();\r\n            return [];\r\n        }\r\n\r\n        const expectedProvider = currentProvider.toUpperCase();\r\n        const pairs = await this.getPairs(currentProvider, {\r\n            forceRefresh: !!opts.forceRefresh\r\n        });\r\n\r\n        const exchangeValue = exchangeDropdown ? (exchangeDropdown.value || \"\").toUpperCase() : \"\";\r\n        if (exchangeValue && exchangeValue !== expectedProvider) {\r\n            return pairs;\r\n        }\r\n\r\n        const normalized = Array.isArray(pairs) ? pairs.slice(0) : [];\r\n        normalized.sort(function(a, b) {\r\n            const aP = a[\"display\"] || a[\"symbol\"];\r\n            const bP = b[\"display\"] || b[\"symbol\"];\r\n\r\n            if (aP > bP) {\r\n                return 1;\r\n            }\r\n\r\n            if (aP < bP) {\r\n                return -1;\r\n            }\r\n\r\n            return 0;\r\n        });\r\n\r\n        const savedPair = (currentSettings[\"pair\"] || \"\").toUpperCase();\r\n        const previousValue = selectPairDropdown ? selectPairDropdown.value : \"\";\r\n        const preferredPair = (previousValue || savedPair || \"\").toUpperCase();\r\n\r\n        this.setPairDropdownData(currentProvider, normalized, {\r\n            previousValue: previousValue,\r\n            preferredValue: preferredPair,\r\n            savedValue: savedPair,\r\n            resetFilter: !opts.preserveFilter\r\n        });\r\n\r\n        const hasPairs = normalized.length > 0;\r\n        this.setPairUIVisibility(hasPairs);\r\n\r\n        if (selectPairDropdown) {\r\n            selectPairDropdown.disabled = !hasPairs;\r\n        }\r\n        if (pairSearchInput) {\r\n            pairSearchInput.disabled = !hasPairs;\r\n        }\r\n        if (!hasPairs) {\r\n            this.updatePairSearchFeedback(0, pairSearchInput ? pairSearchInput.value : \"\");\r\n        }\r\n        return normalized;\r\n    },\r\n\r\n    populateCurrenciesDropdown: async function(forceRefresh) {\r\n        const toCurrencyDropDown = settingsConfig[\"currency\"][\"value\"];\r\n        if (!toCurrencyDropDown) {\r\n            return [];\r\n        }\r\n\r\n        const previousValue = toCurrencyDropDown.value;\r\n        const currencies = await this.getCurrencies({\r\n            forceRefresh: !!forceRefresh\r\n        });\r\n        const list = Array.isArray(currencies) ? currencies.slice(0) : [];\r\n\r\n        this.removeAllOptions(toCurrencyDropDown);\r\n\r\n        const emptyOption = document.createElement(\"option\");\r\n        emptyOption.text = \"\";\r\n        emptyOption.value = \"\";\r\n        toCurrencyDropDown.add(emptyOption);\r\n\r\n        list.sort();\r\n        list.forEach(function(currency) {\r\n            const option = document.createElement(\"option\");\r\n            option.text = currency;\r\n            option.value = currency;\r\n            toCurrencyDropDown.add(option);\r\n        });\r\n\r\n        const savedCurrency = currentSettings[\"currency\"] || settingsConfig[\"currency\"][\"default\"] || \"\";\r\n        const preferred = previousValue || savedCurrency;\r\n\r\n        if (preferred && list.indexOf(preferred) !== -1) {\r\n            toCurrencyDropDown.value = preferred;\r\n        } else if (savedCurrency && list.indexOf(savedCurrency) !== -1) {\r\n            toCurrencyDropDown.value = savedCurrency;\r\n        } else {\r\n            toCurrencyDropDown.value = \"\";\r\n        }\r\n\r\n        toCurrencyDropDown.disabled = list.length === 0;\r\n        return list;\r\n    },\r\n\r\n    handleExchangeChange: async function(options) {\r\n        const opts = options || {};\r\n        const exchangeDropdown = settingsConfig[\"exchange\"][\"value\"];\r\n        const provider = exchangeDropdown ? exchangeDropdown.value : \"\";\r\n        if (!provider) {\r\n            this.resetPairDropdown();\r\n            lastDisplayedExchange = provider;\r\n            return;\r\n        }\r\n\r\n        await this.populatePairsDropdown(provider, {\r\n            forceRefresh: !!opts.forceRefresh\r\n        });\r\n        lastDisplayedExchange = provider;\r\n    },\r\n\r\n    initDom: function() {\n        this.setupNetworkStatusElements();\n        this.initPairsDropDown();\n        this.initCurrenciesDropDown();\n        this.renderConnectionStateHelp();\n\n        const jThis = this;\n        const callback = function() {\n            jThis.checkNewSettings();\n            jThis.refreshMenus();\n        };\r\n\r\n        for (const k in settingsConfig) {\r\n            const setting = settingsConfig[k];\r\n            if (setting[\"value\"]) {\r\n                setting[\"value\"].onchange = callback;\r\n                setting[\"value\"].onkeyup = callback;\r\n            }\r\n        }\n    },\n    renderConnectionStateHelp: function() {\n        if (!connectionStatusIconsModule || typeof connectionStatusIconsModule.renderConnectionStatusIcon !== \"function\") {\n            return;\n        }\n\n        const canvases = document.querySelectorAll(\"canvas.connection-state-icon\");\n        if (!canvases || canvases.length === 0) {\n            return;\n        }\n\n        const fallbackStates = {\n            LIVE: \"live\",\n            DETACHED: \"detached\",\n            BACKUP: \"backup\",\n            BROKEN: \"broken\"\n        };\n        const states = connectionStatesModule || fallbackStates;\n\n        for (let i = 0; i < canvases.length; i++) {\n            const canvas = canvases[i] as HTMLCanvasElement;\n            if (!canvas) {\n                continue;\n            }\n\n            const stateKey = (canvas.getAttribute(\"data-connection-state\") || \"\").toUpperCase();\n            const resolvedState = (states && states[stateKey]) ? states[stateKey] : stateKey.toLowerCase();\n            const context = canvas.getContext(\"2d\");\n            if (!context || !resolvedState) {\n                continue;\n            }\n\n            context.clearRect(0, 0, canvas.width, canvas.height);\n\n            const minDimension = Math.min(canvas.width || 0, canvas.height || 0);\n            const multiplier = Math.max(minDimension > 0 ? (minDimension / 32) : 1, 0.6);\n\n            connectionStatusIconsModule.renderConnectionStatusIcon({\n                canvas: canvas,\n                canvasContext: context,\n                state: resolvedState,\n                color: \"#ffffff\",\n                sizeMultiplier: multiplier,\n                position: \"TOP_RIGHT\",\n                connectionStates: states\n            });\n        }\n    },\n    initPairsDropDown: async function() {\r\n        const exchangeDropdown = settingsConfig[\"exchange\"][\"value\"];\r\n        if (!exchangeDropdown) {\r\n            return;\r\n        }\r\n\r\n        this.setupNetworkStatusElements();\r\n\r\n        if (!this.exchangeDropdownInitialized) {\r\n            const thisTmp = this;\r\n            const originalCallback = typeof exchangeDropdown.onchange === \"function\" ? exchangeDropdown.onchange : function() {};\r\n            exchangeDropdown.onchange = function() {\r\n                if (typeof originalCallback === \"function\") {\r\n                    originalCallback.call(this);\r\n                }\r\n                thisTmp.handleExchangeChange();\r\n                thisTmp.checkNewSettings();\r\n            };\r\n\r\n            selectPairDropdown.onchange = function() {\r\n                const pairInput = settingsConfig[\"pair\"][\"value\"];\r\n                pairInput.value = selectPairDropdown.value;\r\n                if (typeof pairInput.onchange === \"function\") {\r\n                    pairInput.onchange();\r\n                }\r\n            };\r\n\r\n            if (pairSearchInput) {\r\n                pairSearchInput.addEventListener(\"input\", function(event) {\r\n                    thisTmp.handlePairSearchInput(event.target.value);\r\n                });\r\n                pairSearchInput.addEventListener(\"keydown\", function(event) {\r\n                    thisTmp.handlePairSearchKeydown(event);\r\n                });\r\n            }\r\n\r\n            this.exchangeDropdownInitialized = true;\r\n        }\r\n\r\n        await this.populateProvidersDropdown();\r\n\r\n        const candidateExchange = currentSettings[\"exchange\"] || settingsConfig[\"exchange\"][\"default\"] || \"\";\r\n        if (candidateExchange) {\r\n            const hasCandidate = Array.from(exchangeDropdown.options).some(function(option) {\r\n                return (option.value || \"\").toUpperCase() === candidateExchange.toUpperCase();\r\n            });\r\n            if (hasCandidate) {\r\n                exchangeDropdown.value = candidateExchange;\r\n            }\r\n        }\r\n\r\n        const activeExchange = exchangeDropdown.value || candidateExchange;\r\n        lastDisplayedExchange = activeExchange;\r\n        await this.populatePairsDropdown(activeExchange, { initial: true });\r\n        this.refreshValues();\r\n    },\r\n    getProviders: async function(options) {\r\n        this.setupNetworkStatusElements();\r\n        const opts = options || {};\r\n        const cacheKey = \"getProviders\";\r\n        const cachedEntry = getCachedEntry(cacheKey);\r\n        let providers = cachedEntry ? cachedEntry.data : null;\r\n        const forceRefresh = !!opts.forceRefresh;\r\n        const shouldFetch = forceRefresh || !cachedEntry;\r\n        const retryHandler = this.retryCallbacks && typeof this.retryCallbacks.providers === \"function\" ? this.retryCallbacks.providers : null;\r\n\r\n        if (shouldFetch) {\r\n            networkStatusManager.setState(\"providers\", {\r\n                message: networkStatusManager.config.providers.loadingMessage,\r\n                spinner: true,\r\n                disableSelect: true\r\n            });\r\n\r\n            try {\r\n                const responseJson = await fetchJsonWithRetry(tProxyBase + \"/api/Ticker/json/providers\", {\r\n                    attempts: FETCH_MAX_ATTEMPTS,\r\n                    timeout: FETCH_TIMEOUT_MS,\r\n                    retryBaseDelay: RETRY_BASE_DELAY_MS,\r\n                    onAttemptStart: function(info) {\r\n                        if (info.attempt === 1) {\r\n                            networkStatusManager.setState(\"providers\", {\r\n                                message: networkStatusManager.config.providers.loadingMessage,\r\n                                spinner: true,\r\n                                disableSelect: true\r\n                            });\r\n                        } else {\r\n                            networkStatusManager.setState(\"providers\", {\r\n                                message: networkStatusManager.config.providers.retryMessage,\r\n                                spinner: true,\r\n                                disableSelect: true,\r\n                                tone: \"warning\"\r\n                            });\r\n                        }\r\n                    },\r\n                    onAttemptError: function(info) {\r\n                        console.error(\"Provider fetch attempt \" + info.attempt + \" failed\", info.error);\r\n                    }\r\n                });\r\n\r\n                providers = Array.isArray(responseJson) ? responseJson.slice(0) : [];\r\n                setCachedEntry(cacheKey, providers);\r\n                networkStatusManager.clear(\"providers\");\r\n            } catch (err) {\r\n                console.error(\"Failed to load providers\", err);\r\n                this.log(\"getProviders error\", err);\r\n\r\n                if (cachedEntry && Array.isArray(cachedEntry.data) && cachedEntry.data.length > 0) {\r\n                    networkStatusManager.setState(\"providers\", {\r\n                        message: \"Using cached providers. Connection issue detected.\",\r\n                        spinner: false,\r\n                        disableSelect: false,\r\n                        tone: \"warning\",\r\n                        showRetry: !!retryHandler,\r\n                        onRetry: retryHandler\r\n                    });\r\n                    networkStatusManager.showWarning(\"providers\", buildStaleDataMessage(cachedEntry.timestamp));\r\n                    return cachedEntry.data;\r\n                }\r\n\r\n                networkStatusManager.setState(\"providers\", {\r\n                    message: \"Network error. Please check connection and try again.\",\r\n                    spinner: false,\r\n                    disableSelect: true,\r\n                    tone: \"error\",\r\n                    showRetry: !!retryHandler,\r\n                    onRetry: retryHandler\r\n                });\r\n                networkStatusManager.showWarning(\"providers\", \"\");\r\n                return [];\r\n            }\r\n        } else if (cachedEntry) {\r\n            providers = cachedEntry.data;\r\n            networkStatusManager.clear(\"providers\");\r\n        }\r\n\r\n        const normalizedProviders = Array.isArray(providers) ? providers : [];\r\n        this.log(\"getProviders\", normalizedProviders);\r\n        networkStatusManager.showWarning(\"providers\", \"\");\r\n        return normalizedProviders;\r\n    },\r\n    getPairs: async function(provider, options) {\r\n        this.setupNetworkStatusElements();\r\n        const opts = options || {};\r\n        if (!provider) {\r\n            return [];\r\n        }\r\n\r\n        const cacheKey = \"getPairs_\" + provider;\r\n        const cachedEntry = getCachedEntry(cacheKey);\r\n        const forceRefresh = !!opts.forceRefresh;\r\n        const retryHandler = this.retryCallbacks && typeof this.retryCallbacks.pairs === \"function\" ? this.retryCallbacks.pairs : null;\r\n        let pairs = cachedEntry ? cachedEntry.data : null;\r\n        const shouldFetch = forceRefresh || !cachedEntry;\r\n\r\n        if (shouldFetch) {\r\n            networkStatusManager.setState(\"pairs\", {\r\n                message: networkStatusManager.config.pairs.loadingMessage,\r\n                spinner: true,\r\n                disableSelect: true\r\n            });\r\n\r\n            const providerModule = this.resolveProviderModule(provider);\r\n            if (providerModule && typeof providerModule.getPairs === \"function\") {\r\n                try {\r\n                    pairs = await providerModule.getPairs();\r\n                } catch (err) {\r\n                    console.error(\"Error fetching direct pairs for provider \" + provider, err);\r\n                    this.log(\"Error fetching direct pairs\", err);\r\n                    pairs = null;\r\n                }\r\n            }\r\n\r\n            if (!Array.isArray(pairs) || pairs.length === 0) {\r\n                const url = tProxyBase + \"/api/Ticker/json/symbols?provider=\" + encodeURIComponent(provider);\r\n\r\n                try {\r\n                    const responseJson = await fetchJsonWithRetry(url, {\r\n                        attempts: FETCH_MAX_ATTEMPTS,\r\n                        timeout: FETCH_TIMEOUT_MS,\r\n                        retryBaseDelay: RETRY_BASE_DELAY_MS,\r\n                        onAttemptStart: function(info) {\r\n                            if (info.attempt === 1) {\r\n                                networkStatusManager.setState(\"pairs\", {\r\n                                    message: networkStatusManager.config.pairs.loadingMessage,\r\n                                    spinner: true,\r\n                                    disableSelect: true\r\n                                });\r\n                            } else {\r\n                                networkStatusManager.setState(\"pairs\", {\r\n                                    message: networkStatusManager.config.pairs.retryMessage,\r\n                                    spinner: true,\r\n                                    disableSelect: true,\r\n                                    tone: \"warning\"\r\n                                });\r\n                            }\r\n                        },\r\n                        onAttemptError: function(info) {\r\n                            console.error(\"Pairs fetch attempt \" + info.attempt + \" failed\", info.error);\r\n                        }\r\n                    });\r\n\r\n                    pairs = responseJson;\r\n                } catch (err) {\r\n                    console.error(\"Error fetching pairs from proxy for provider \" + provider, err);\r\n                    this.log(\"Error fetching pairs from proxy\", err);\r\n\r\n                    if (cachedEntry && Array.isArray(cachedEntry.data) && cachedEntry.data.length > 0) {\r\n                        networkStatusManager.setState(\"pairs\", {\r\n                            message: \"Using cached pairs. Connection issue detected.\",\r\n                            spinner: false,\r\n                            disableSelect: false,\r\n                            tone: \"warning\",\r\n                            showRetry: !!retryHandler,\r\n                            onRetry: retryHandler\r\n                        });\r\n                        networkStatusManager.showWarning(\"pairs\", buildStaleDataMessage(cachedEntry.timestamp));\r\n                        return cachedEntry.data;\r\n                    }\r\n\r\n                    networkStatusManager.setState(\"pairs\", {\r\n                        message: \"Network error. Please check connection and try again.\",\r\n                        spinner: false,\r\n                        disableSelect: true,\r\n                        tone: \"error\",\r\n                        showRetry: !!retryHandler,\r\n                        onRetry: retryHandler\r\n                    });\r\n                    networkStatusManager.showWarning(\"pairs\", \"\");\r\n                    return [];\r\n                }\r\n            }\r\n        } else if (cachedEntry) {\r\n            networkStatusManager.clear(\"pairs\");\r\n            networkStatusManager.showWarning(\"pairs\", \"\");\r\n            return cachedEntry.data;\r\n        }\r\n\r\n        const normalizedPairs = normalizePairsList(pairs);\r\n        if (normalizedPairs.length > 0) {\r\n            setCachedEntry(cacheKey, normalizedPairs);\r\n        } else if (cachedEntry && Array.isArray(cachedEntry.data) && cachedEntry.data.length > 0 && shouldFetch) {\r\n            networkStatusManager.setState(\"pairs\", {\r\n                message: \"Using cached pairs. Connection issue detected.\",\r\n                spinner: false,\r\n                disableSelect: false,\r\n                tone: \"warning\",\r\n                showRetry: !!retryHandler,\r\n                onRetry: retryHandler\r\n            });\r\n            networkStatusManager.showWarning(\"pairs\", buildStaleDataMessage(cachedEntry.timestamp));\r\n            return cachedEntry.data;\r\n        }\r\n\r\n        this.log(\"getPairs\", normalizedPairs);\r\n        networkStatusManager.clear(\"pairs\");\r\n        networkStatusManager.showWarning(\"pairs\", \"\");\r\n        return normalizedPairs;\r\n    },\r\n    resolveProviderModule: function(provider) {\r\n        if (typeof provider !== \"string\") {\r\n            return null;\r\n        }\r\n\r\n        if (typeof CryptoTickerPIProviders !== \"undefined\" && CryptoTickerPIProviders.getProvider) {\r\n            return CryptoTickerPIProviders.getProvider(provider);\r\n        }\r\n\r\n        return null;\r\n    },\r\n    initCurrenciesDropDown: async function() {\r\n        this.setupNetworkStatusElements();\r\n        await this.populateCurrenciesDropdown();\r\n        this.refreshValues();\r\n    },\r\n    getCurrencies: async function(options) {\r\n        this.setupNetworkStatusElements();\r\n        const opts = options || {};\r\n        const cacheKey = \"getCurrencies\";\r\n        const cachedEntry = getCachedEntry(cacheKey);\r\n        let currencies = cachedEntry ? cachedEntry.data : null;\r\n        const forceRefresh = !!opts.forceRefresh;\r\n        const shouldFetch = forceRefresh || !cachedEntry;\r\n        const retryHandler = this.retryCallbacks && typeof this.retryCallbacks.currencies === \"function\" ? this.retryCallbacks.currencies : null;\r\n\r\n        if (shouldFetch) {\r\n            networkStatusManager.setState(\"currencies\", {\r\n                message: networkStatusManager.config.currencies.loadingMessage,\r\n                spinner: true,\r\n                disableSelect: true\r\n            });\r\n\r\n            try {\r\n                const responseJson = await fetchJsonWithRetry(tProxyBase + \"/api/Ticker/json/currencies\", {\r\n                    attempts: FETCH_MAX_ATTEMPTS,\r\n                    timeout: FETCH_TIMEOUT_MS,\r\n                    retryBaseDelay: RETRY_BASE_DELAY_MS,\r\n                    onAttemptStart: function(info) {\r\n                        if (info.attempt === 1) {\r\n                            networkStatusManager.setState(\"currencies\", {\r\n                                message: networkStatusManager.config.currencies.loadingMessage,\r\n                                spinner: true,\r\n                                disableSelect: true\r\n                            });\r\n                        } else {\r\n                            networkStatusManager.setState(\"currencies\", {\r\n                                message: networkStatusManager.config.currencies.retryMessage,\r\n                                spinner: true,\r\n                                disableSelect: true,\r\n                                tone: \"warning\"\r\n                            });\r\n                        }\r\n                    },\r\n                    onAttemptError: function(info) {\r\n                        console.error(\"Currencies fetch attempt \" + info.attempt + \" failed\", info.error);\r\n                    }\r\n                });\r\n\r\n                currencies = Array.isArray(responseJson) ? responseJson.slice(0) : [];\r\n                setCachedEntry(cacheKey, currencies);\r\n                networkStatusManager.clear(\"currencies\");\r\n            } catch (err) {\r\n                console.error(\"Failed to load currencies\", err);\r\n                this.log(\"getCurrencies error\", err);\r\n\r\n                if (cachedEntry && Array.isArray(cachedEntry.data) && cachedEntry.data.length > 0) {\r\n                    networkStatusManager.setState(\"currencies\", {\r\n                        message: \"Using cached currencies. Connection issue detected.\",\r\n                        spinner: false,\r\n                        disableSelect: false,\r\n                        tone: \"warning\",\r\n                        showRetry: !!retryHandler,\r\n                        onRetry: retryHandler\r\n                    });\r\n                    networkStatusManager.showWarning(\"currencies\", buildStaleDataMessage(cachedEntry.timestamp));\r\n                    return cachedEntry.data;\r\n                }\r\n\r\n                networkStatusManager.setState(\"currencies\", {\r\n                    message: \"Network error. Please check connection and try again.\",\r\n                    spinner: false,\r\n                    disableSelect: true,\r\n                    tone: \"error\",\r\n                    showRetry: !!retryHandler,\r\n                    onRetry: retryHandler\r\n                });\r\n                networkStatusManager.showWarning(\"currencies\", \"\");\r\n                return [];\r\n            }\r\n        } else if (cachedEntry) {\r\n            networkStatusManager.clear(\"currencies\");\r\n            networkStatusManager.showWarning(\"currencies\", \"\");\r\n            return cachedEntry.data;\r\n        }\r\n\r\n        const normalizedCurrencies = Array.isArray(currencies) ? currencies : [];\r\n        this.log(\"getCurrencies\", normalizedCurrencies);\r\n        networkStatusManager.showWarning(\"currencies\", \"\");\r\n        return normalizedCurrencies;\r\n\r\n    },\r\n    removeAllOptions: function(selectElement) {\r\n        var i, L = selectElement.options.length - 1;\r\n        for(i = L; i >= 0; i--) {\r\n           selectElement.remove(i);\r\n        }\r\n    },\r\n    extractSettings: function(settings) {\r\n        this.log(\"extractSettings\", settings);\r\n\r\n        const incoming = settings ? Object.assign({}, settings) : {};\r\n\r\n        // Legacy pair pipe fallback; remove when PI drops combined value support.\r\n        const pairElements = this.splitPairValue(incoming[\"pair\"]);\r\n        if (pairElements) {\r\n            for (const k in pairElements) {\r\n                if (Object.prototype.hasOwnProperty.call(pairElements, k)) {\r\n                    incoming[k] = pairElements[k];\r\n                }\r\n            }\r\n        }\r\n        setCurrentSettings(incoming);\r\n        this.refreshValues();\r\n        this.displayExpressionErrors({});\r\n    },\r\n    checkNewSettings: function() {\r\n        this.log(\"checkNewSettings\");\r\n\r\n        // Pull DOM values into `currentSettings` snapshot.\r\n        for (const k in settingsConfig) {\r\n            const settingConfig = settingsConfig[k];\r\n            if (settingConfig[\"getValue\"]) {\r\n                currentSettings[k] = settingConfig[\"getValue\"]() || settingConfig[\"default\"];\r\n            } else if (settingConfig[\"value\"]) {\r\n                currentSettings[k] = settingConfig[\"value\"].value || settingConfig[\"default\"];\r\n            }\r\n        }\r\n\r\n        const sanitizedSettings = setCurrentSettings(currentSettings);\r\n        const validation = this.validateRuleExpressions(sanitizedSettings);\r\n        this.displayExpressionErrors(validation.errors);\r\n        if (validation.hasErrors) {\r\n            this.log(\"Expression validation failed\", validation.errors);\r\n            return;\r\n        }\r\n\r\n        this.saveSettings();\r\n    },\r\n    refreshValues: function() {\r\n        this.log(\"refreshValues\");\r\n\r\n        if (lastDisplayedExchange !== currentSettings[\"exchange\"]) {\r\n            this.initPairsDropDown();\r\n            return;\r\n        }\r\n\r\n        // Push stored settings into inputs.\r\n        for (const k in settingsConfig) {\r\n            const settingConfig = settingsConfig[k];\r\n            if (settingConfig[\"setValue\"]) {\r\n                settingConfig[\"setValue\"](currentSettings[k]);\r\n            } else if (settingConfig[\"value\"]) {\r\n                settingConfig[\"value\"].value = currentSettings[k];\r\n            }\r\n        }\r\n\r\n        this.syncPairSelectionDisplay();\r\n        this.refreshMenus();\r\n    },\r\n    refreshMenus: function() {\r\n        if (currentSettings && currentSettings[\"pair\"] && currentSettings[\"pair\"].indexOf(\"USD\")>=0) {\r\n            this.applyDisplay(currencyRelatedElements, \"block\");\r\n        } else {\r\n            this.applyDisplay(currencyRelatedElements, \"none\");\r\n            settingsConfig[\"currency\"][\"value\"].value = \"USD\";\r\n        }\r\n    },\r\n    applyDisplay: function(elements, display) {\r\n        if (!elements) {\r\n            return;\r\n        }\r\n\r\n        for (let index = 0; index < elements.length; index++) {\r\n            elements[index].style.display = display;\r\n        }\r\n    },\r\n    splitPairValue: function(value) {\r\n        if (value && value.indexOf(\"|\")>=0) {\r\n            const elements = value.split(\"|\");\r\n\r\n            return {\r\n                \"pair\": elements[1],\r\n                \"exchange\": elements[0].toUpperCase()\r\n            }\r\n        }\r\n\r\n        return null;\r\n    },\r\n    saveSettings: function() {\r\n        this.log(\"saveSettings\", currentSettings);\r\n\r\n        setCurrentSettings(currentSettings);\r\n\r\n        if (websocket && (websocket.readyState === 1)) {\r\n            const jsonSetSettings = {\r\n                \"event\": \"setSettings\",\r\n                \"context\": uuid,\r\n                \"payload\": currentSettings\r\n            };\r\n            websocket.send(JSON.stringify(jsonSetSettings));\r\n\r\n            const jsonPlugin = {\r\n                \"action\": actionInfo[\"action\"],\r\n                \"event\": \"sendToPlugin\",\r\n                \"context\": uuid,\r\n                \"payload\": currentSettings\r\n            };\r\n            websocket.send(JSON.stringify(jsonPlugin));\r\n        }\r\n    }\r\n}\r\n\r\npi.initDom();\r\n\r\nfunction connectElgatoStreamDeckSocket(inPort, inUUID, inRegisterEvent, infoJson, actionInfoJson) {\r\n    uuid = inUUID;\r\n    // Stream Deck passes strings; parse the JSON payloads before using them.\r\n    actionInfo = JSON.parse(actionInfoJson); // cache the info\r\n    const parsedInfo = JSON.parse(infoJson);\r\n    websocket = new WebSocket('ws://127.0.0.1:' + inPort);\r\n\r\n    // Load saved PI settings if provided.\r\n    pi.extractSettings(actionInfo.payload.settings);\r\n    // console.log(actionInfo.payload.settings);\r\n\r\n    // Register PI once the websocket reports `onopen`.\r\n    websocket.onopen = function () {\r\n        const json = {\r\n            event: inRegisterEvent,\r\n            uuid: inUUID,\r\n            info: parsedInfo\r\n        };\r\n        // register property inspector to Stream Deck\r\n        websocket.send(JSON.stringify(json));\r\n    };\r\n\r\n    websocket.onmessage = function (evt) {\r\n        // Received message from Stream Deck\r\n        JSON.parse(evt.data);\r\n        // console.log(\"Received message\", jsonObj);\r\n    };\r\n}\r\n\r\nif (typeof window !== \"undefined\") {\r\n    window.connectElgatoStreamDeckSocket = connectElgatoStreamDeckSocket;\r\n}\r\n"],
  "mappings": "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",
  "names": ["exports", "defaultSettings", "exports", "n2", "args", "argCount", "n1", "f", "i", "index", "div", "exports", "value", "self"]
}
